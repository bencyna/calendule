(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(18),r=a.n(l),i=(a(49),a(50),a(5)),o=a(7),s=a(3),m=a(10),d=a(4),u=(a(51),a(24)),E=a(9),b=a.n(E),p=function(e){return b.a.post("/api/users/login",e)},v=function(){return b.a.post("/api/users/logout")},g=function(){return b.a.get("/api/users/user")},f=function(e){return b.a.post("/api/users/signup",e)},N=function(e,t){return b.a.get("/api/date/"+e,t)},h=function(){return b.a.get("/api/users/find")},k=function(e){return b.a.get("/api/users/"+e)},y=function(e){return b.a.post("/api/date/",e)},O=function(e){return b.a.delete("/api/date/"+e)},j=function(e){return b.a.put("/api/date/",e)},C=function(){return b.a.get("/api/date/pending/")},_=function(){return b.a.get("/api/date/allpending/")},w=function(){return b.a.get("/api/date/waiting/")},B=function(e){return b.a.post("api/users/facebook/",e)},I=function(e){return b.a.get("api/users/save",e)},T=Object(n.createContext)(),x=T.Provider,S=function(e,t){switch(t.type){case"SIGNUP":return Object(d.a)(Object(d.a)({},e),{},{login:!1});case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{login:!0});case"userClicked":return Object(d.a)(Object(d.a)({},e),{},{dateClicked:!1});case"modalClick":return Object(d.a)(Object(d.a)({},e),{},{modal:!e.modal,date:t.date});case"eventSubmit":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!0});case"eventSubmitDone":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!1});case"searchInvoked":return Object(d.a)(Object(d.a)({},e),{},{search:t.search});case"addUsers":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"LOGGINGIN":return Object(d.a)(Object(d.a)({},e),{},{logged_in:t.logged_in,user_id:t.id});case"CURRENTBOOKING":return Object(d.a)(Object(d.a)({},e),{},{currentBooking:t.currentBooking});case"CLICKEDEVENT":return Object(d.a)(Object(d.a)({},e),{},{clickedEvent:t.clickedEvent});case"PENDINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{pendingEvents:t.pendingEvents});case"ACTIONREQUIRED":return Object(d.a)(Object(d.a)({},e),{},{actionRequired:t.actionRequired});case"ALLPENDINGEVENTS":return Object(d.a)(Object(d.a)({},e),{},{allPendingEvents:t.allPendingEvents});case"WAITINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{awaitingEvents:t.awaitingEvents});case"BOOKINGWITH":return Object(d.a)(Object(d.a)({},e),{},{bookingWith:t.bookingWith});default:return e}},U=function(e){e.value;var t=Object(u.a)(e,["value"]),a=Object(n.useReducer)(S,{pendingEvents:[],allPendingEvents:[],awaitingEvents:[],users:[],login:!0,dateClicked:!1,date:"",modal:!1,eventAdded:!1,search:"",logged_in:!1,user_id:"",currentBooking:{},clickedEvent:!1,actionRequired:!1,bookingWith:""}),l=Object(s.a)(a,2),r=l[0],i=l[1];return Object(n.useEffect)((function(){g().then((function(e){i({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id})})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement(x,Object.assign({value:[r,i]},t))},D=function(){return Object(n.useContext)(T)};a(70);var L=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(i.b,{to:"#",className:"alert-link"},e.message)," "))},P=a(42),R=a.n(P);a(79);var G=function(){var e=D(),t=Object(s.a)(e,2),a=(t[0],t[1]),n=Object(o.g)();return c.a.createElement(R.a,{appId:"312864710465609",autoLoad:!0,fields:"first_name, last_name,email,id",callback:function(e){B({first_name:e.first_name,last_name:e.last_name,id:e.id,email:e.email}).then((function(t){console.log("next working"),I(e.id).then((function(t){console.log(e.id),a({type:"LOGGINGIN",logged_in:!0,id:e.id}),n.push("/")}))})).catch((function(e){console.log(e)}))},className:"my-facebook-button-class",icon:"fa-facebook",version:"v2.8"})};var W=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(o.g)(),i=D(),u=Object(s.a)(i,2),E=(u[0],u[1]),b=Object(n.useState)(!1),v=Object(s.a)(b,2),g=v[0],f=v[1],N=Object(n.useState)(""),h=Object(s.a)(N,2),k=h[0],y=h[1],O=function(e){var t=e.target,n=t.name,c=t.value;l(Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},n,c)))};return c.a.createElement("div",{className:"col-md-4 loginContainer"},c.a.createElement("form",{className:"form login-form login"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{className:"form-input",type:"text",id:"email-login",name:"email",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password:"),c.a.createElement("input",{className:"form-input",type:"password",id:"password-login",name:"password",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{id:"signup",className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),a.email.length>1&&a.password.length>8?(p({email:a.email,password:a.password}).then((function(e){E({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),r.push("/")})).catch((function(e){f(!0)})),y("Incorrect Email or Password")):(y("Incorrect Email or Password"),f(!0))}},"Login"),c.a.createElement("button",{className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),E({type:"SIGNUP"})}},"Sign up here"))),g?c.a.createElement(L,{message:k}):c.a.createElement("div",{className:"hide"}),c.a.createElement(G,null))};a(80),a(81);var A=function(){var e=D(),t=Object(s.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)({email:"",password:"",first_name:"",last_name:""}),r=Object(s.a)(l,2),i=r[0],u=r[1],E=Object(o.g)(),b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],N=Object(n.useState)(""),h=Object(s.a)(N,2),k=h[0],y=h[1],O=function(e){var t=e.target,a=t.name,n=t.value;u(Object(d.a)(Object(d.a)({},i),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"col-md-4 signupContainer"},c.a.createElement("form",{className:"form signup-form signup"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"First Name:"),c.a.createElement("input",{className:"form-input",type:"name",id:"firstname-signup",name:"first_name",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null," Last Name:"),c.a.createElement("input",{className:"form-input",type:"name",id:"lastname-signup",name:"last_name",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{className:"form-input",type:"text",id:"email-signup",name:"email",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password:"),c.a.createElement("input",{className:"form-input",type:"password",id:"password-signup",name:"password",onChange:O})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{id:"signup",className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),i.email.length>1&&i.password.length>=8&&i.first_name.length>1&&i.last_name.length>1?f({first_name:i.first_name,last_name:i.last_name,email:i.email,password:i.password}).then((function(e){a({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),E.push("/")})).catch((function(e){y("That email is already in use"),g(!0)})):(y("You must include: Your first name, last name, a valid email address and a password more than 8 characters long"),g(!0))}},"signup"),c.a.createElement("button",{className:"btn btn-primary initBtns",onClick:function(){a({type:"LOGIN",login:!0})}},"Back to Login"))),v?c.a.createElement(L,{message:k}):c.a.createElement("div",{className:"hide"}))},V=a(43),K=a.n(V);var q=function(){var e=D(),t=Object(s.a)(e,1)[0];return c.a.createElement("div",{className:"Container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{id:"welcomeTag"},c.a.createElement("h1",{className:"title"},"Welcome to Calendule"),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:K.a,alt:"calendula plant"})),c.a.createElement("h5",{className:"title",style:{marginTop:"20px"}},"Login or Sign Up to use all the cool features!"),c.a.createElement("small",{style:{display:"inline-block",maxWidth:"500px",textAlign:"center"}}," ","Calendule is the perfect scheduling app. With a clear simple deisgn, making appointments, meetings or even booking in a slot to meet up with friends can easily be done without the back and fourth we've gotten so custom to. Simply find your friends, collegues or organisation , reuqest a meet and bang, it can already be seen in both you and your recepients calendar, Enjoy!"))),t.login?c.a.createElement(W,null):c.a.createElement(A,null)))};var Y=function(){var e=D(),t=Object(s.a)(e,2),a=t[0],n=t[1];return c.a.createElement("form",{className:"d-flex"},c.a.createElement("input",{className:"form-control me-sm-2",type:"text",placeholder:"Search for a person",onChange:function(e){n({type:"searchInvoked",search:e.target.value})},value:a.search}),c.a.createElement(i.b,{to:"/find"},c.a.createElement("button",{className:"btn btn-secondary my-2 my-sm-0",type:"submit"},"Search")))},Q=(a(82),a(8)),F=a.n(Q);a(85);var M=function(){var e=D(),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){C().then((function(e){0!==e.data.length&&l({type:"PENDINGEVENT",pendingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[a.user_id,a.clickedEvent]),c.a.createElement("div",null,c.a.createElement(i.b,{to:"#",className:"notification nav-link dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},c.a.createElement("span",null,c.a.createElement(F.a,{icon:"bell"})),c.a.createElement("span",{className:"badge"},a.pendingEvents.length)),c.a.createElement("div",{className:"dropdown-menu dropContainer"},c.a.createElement(i.b,{className:"dropdown-item",to:"#"},c.a.createElement("h5",null," Your Pending Events: ")),a.pendingEvents.map((function(e){return c.a.createElement(i.b,{className:"dropdown-item left",to:"/pending",key:e.id,id:e.id},e.title)})),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement(i.b,{className:"dropdown-item",to:"/pending"},"See all pending events")))};var J=function(){var e=D(),t=Object(s.a)(e,2),a=t[0];return t[1],c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement(i.b,{className:"navbar-brand",to:"/"},"Calendule"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},c.a.createElement("ul",{className:"navbar-nav me-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(i.b,{className:"nav-link",to:"/"},c.a.createElement(F.a,{icon:"calendar"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(i.b,{className:"nav-link",to:"/find"},c.a.createElement(F.a,{icon:"search"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(i.b,{className:"nav-link",to:"/all"},c.a.createElement(F.a,{icon:"list"}))),a.logged_in?c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"nav-link hover",to:"#",onClick:function(){v().then((function(e){window.location.replace("/login")})).catch((function(e){console.log(e)}))}},c.a.createElement(F.a,{icon:"log-out"}))):c.a.createElement("li",{className:"nav-item"},c.a.createElement(i.b,{className:"nav-link hover",to:"/login"},"Login")),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement(M,null))))),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},c.a.createElement(Y,null)))},H=a(25),z=a(20),X=a(21),Z=(a(88),a(38),a(17)),$=a.n(Z);var ee=function(e){Object(o.h)().id;var t=D(),a=Object(s.a)(t,2),l=a[0],r=a[1],u=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),E=Object(s.a)(u,2),b=E[0],p=E[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),f=g[0],N=g[1],h=function(e){e.preventDefault(),N(!1),r({type:"modalClick"})},k=function(e){var t=e.target,a=t.name,n=t.value;p(Object(d.a)(Object(d.a)({},b),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Reschedule the event ",l.currentBooking.title," ",l.date),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:h})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Title"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:k}),c.a.createElement("label",{className:"col-form-label mt-4"},"Description"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",onChange:k}),c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement($.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){p(Object(d.a)(Object(d.a)({},b),{},{time:e}))},value:b.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Location"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:k}),c.a.createElement("br",null),f?c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(i.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):c.a.createElement("div",null)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){var a;(t.preventDefault(),N(!1),b.title&&b.description,b.time,b.location)?(r({type:"modalClick"}),j((a={title:b.title,description:b.description,time:b.time,location:b.location,id:l.currentBooking.id,accepted:!1},Object(m.a)(a,"time",b.time),Object(m.a)(a,"bookerPending",!l.currentBooking.bookerPending),a)).then((function(t){alert("Reschedule request sent, check your pending events to see this event!"),e.setNoEvents(!1)})).catch((function(e){console.log(e)}))):N(!0)}},"Save Event"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:h},"Close")))))};var te=function(e){var t=D(),a=Object(s.a)(t,2),n=a[0],l=a[1];return c.a.createElement("div",{className:"clickedEvent col-md-6"},c.a.createElement("div",{className:"listCOntainer"},c.a.createElement("div",{className:"updatePosts"},c.a.createElement(F.a,{icon:"edit",className:"updatePost",onClick:function(){l({type:"modalClick",date:n.currentBooking.date})}}),c.a.createElement(F.a,{icon:"trash-2",className:"updatePost",onClick:function(){window.confirm("Cancel this Event?")&&O(n.currentBooking.id).then((function(t){console.log("Ben changhe this to re mount the other component maybe"),e.setNoEvents(!1),l({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}})),c.a.createElement("h2",{className:"h2 title"}," ",n.currentBooking.title," ~ ",e.bookingWith),c.a.createElement("ul",{className:"ul"},c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"info",className:"detailsIcon"}),c.a.createElement(i.b,{to:"#"}," ",n.currentBooking.description)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"map-pin",className:"detailsIcon"})," ",c.a.createElement(i.b,{to:"#"}," ",n.currentBooking.location)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"calendar",className:"detailsIcon"})," ",c.a.createElement(i.b,{to:"#"}," ",n.currentBooking.date)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"clock",className:"detailsIcon"})," ",c.a.createElement($.a,{start:"10:00",end:"21:00",step:30,value:n.currentBooking.time,className:"time"})))),n.modal?c.a.createElement(ee,{setNoEvents:e.setNoEvents}):c.a.createElement("div",{className:"hide"}))};var ae=function(e){var t=Object(o.h)().id,a=D(),l=Object(s.a)(a,2),r=l[0],u=l[1],E=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),N=f[0],h=f[1],k=function(e){e.preventDefault(),h(!1),u({type:"modalClick"})},O=function(e){var t=e.target,a=t.name,n=t.value;v(Object(d.a)(Object(d.a)({},p),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Add an event for ",r.date),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:k})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Title"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:O}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-label mt-4"},"Description"),c.a.createElement("textarea",{className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",rows:"3",spellCheck:"true",onChange:O})),c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement($.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){v(Object(d.a)(Object(d.a)({},p),{},{time:e}))},value:p.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Location"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:O}),c.a.createElement("br",null),N?c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(i.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):c.a.createElement("div",{className:"hide"})),c.a.createElement("div",{className:"modal-footer"},e.ownPost?c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){t.preventDefault(),h(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),y({title:p.title,description:p.description,time:p.time,date:r.date,location:p.location,booker_id:r.user_id,bookee_id:r.user_id,accepted:!0,bookerPending:!0}).then((function(e){alert("Event added succesfully!")})).catch((function(e){alert("Uh oh! Something went wrong"),h(!0)}))):h(!0),e.setNoEvents(!0)}},"Save Event"):c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){e.preventDefault(),h(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),y({title:p.title,description:p.description,time:p.time,date:r.date,location:p.location,booker_id:r.user_id,bookee_id:t,accepted:!1,bookerPending:!1}).then((function(e){alert("Event request succesful!")})).catch((function(e){alert("Uh oh! Something went wrong"),h(!0)}))):h(!0)}},"Save Event"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:k},"Close")))))};var ne=function(){var e=Object(n.useState)([""]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),m=Object(s.a)(r,2),d=m[0],u=m[1],E=Object(n.useState)(),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(),f=Object(s.a)(g,2),h=(f[0],f[1],Object(o.h)().id),k=D(),y=Object(s.a)(k,2),O=y[0],j=y[1];Object(n.useEffect)((function(){j({type:"CLICKEDEVENT",clickedEvent:!1}),N(h,O.user_id).then((function(e){e.data.length>0&&u(!0),l(e.data)}))}),[d]);var C=function(e){var t=e.target.id,n=a.filter((function(e){return e.id==t}));j({type:"CURRENTBOOKING",currentBooking:n[0]}),O.user_id===n[0].receivedByUser.id&&v(n[0].createdByUser.first_name+" "+n[0].createdByUser.last_name),O.user_id===n[0].createdByUser.id&&v(n[0].receivedByUser.first_name+" "+n[0].receivedByUser.last_name),j({type:"CLICKEDEVENT",clickedEvent:!0})},_=function(){j({type:"CLICKEDEVENT",clickedEvent:!1}),j({type:"modalClick",date:h})};return c.a.createElement("div",null,O.modal?c.a.createElement(ae,{ownPost:!0,setNoEvents:u}):c.a.createElement("div",{className:"hide"}),d?c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",className:"backBtnW"},"Click me to go back")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5"},c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"btn addBtn btn-light",style:{marginTop:"7%"},onClick:_},"+ Add Event for Today")),c.a.createElement("div",{className:"eventList"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"}," Today's Events"),c.a.createElement("ul",{className:"ul"},a.map((function(e){return c.a.createElement("li",{className:"li events eventTitle",key:e.id},e.booker_id===O.user_id?c.a.createElement(i.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"red"}},e.title):c.a.createElement(i.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"blue"}},e.title))})))))),O.clickedEvent?c.a.createElement(te,{bookingWith:p,setNoEvents:u}):c.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))):c.a.createElement("div",{className:"centre"},c.a.createElement("h1",null,"You have nothing but time today!"," ",c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",className:"backBtn"},"Click me to go back"))),c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:_},"+ Add Event for Today"))))};var ce=function(){var e=Object(o.g)();return c.a.createElement("div",null,c.a.createElement("h1",{className:"title"},"Welcome to your personalised Calendar, click a day to see your events"),c.a.createElement(H.a,{plugins:[z.a,X.a],initialView:"dayGridMonth",dateClick:function(t){e.push("/date/".concat(t.dateStr))}}))};a(93);var le=function(){var e=D(),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(o.g)();Object(n.useEffect)((function(){h().then((function(e){l({type:"addUsers",users:e.data})}))}),[]);var i=function(e){var t=e.target.id;console.log(t),r.push("/user/".concat(t))},m=a.users.filter((function(e){return e.first_name.toUpperCase().includes(a.search.toUpperCase())}));return c.a.createElement("div",{className:"Container"},c.a.createElement("div",{className:"row people"},c.a.createElement("h1",{onClick:function(){var e=a.users.filter((function(e){return e.first_name===a.search}));console.log(a.users),console.log(a.search),console.log(e)},className:"title"}," ","Search for someone to make an event!"),c.a.createElement("form",{className:"search"},c.a.createElement("div",{className:"form-group searchBar"},c.a.createElement("label",{htmlFor:"employee"},"People:"),c.a.createElement("input",{value:a.search,onChange:function(e){l({type:"searchInvoked",search:e.target.value})},employee:"employee",list:"employees",type:"text",className:"form-control",placeholder:"Look for someone",id:"employee"}))),m.map((function(e){return c.a.createElement("div",{className:"col-md-2 box",style:{maxWidth:"20rem"},key:e.id,id:e.id,onClick:i},c.a.createElement("div",{className:"card-body",id:e.id,onClick:i},c.a.createElement("h4",{className:"card-title text",id:e.id,onClick:i}," ",e.first_name," ",e.last_name)))}))))},re=a(19),ie=a.n(re),oe=a(23);a(95);var se=function(){var e=Object(o.h)().id,t=D(),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)({}),m=Object(s.a)(i,2),d=m[0],u=m[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),p=(b[0],b[1]);Object(n.useEffect)((function(){k(e).then((function(e){u(e.data)}))}),[]);var v=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.dateStr);case 2:r({type:"modalClick",date:t.dateStr});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("h1",{className:"altTitle"},"Welcome to ",d.first_name,"'s Calendar! Cick a day to add an event!"),c.a.createElement(H.a,{plugins:[z.a,X.a],initialView:"dayGridMonth",dateClick:v}),l.modal?c.a.createElement(ae,null):c.a.createElement("div",{className:"hide"}))};var me=function(e){var t=D(),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)({date:"",time:0}),o=Object(s.a)(i,2),u=o[0],E=o[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],f=function(t){t.preventDefault(),g(!1),e.setEditEvent(!1)};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Rescedule event with ",e.bookingWith),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:f})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement($.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){E(Object(d.a)(Object(d.a)({},u),{},{time:e}))},value:u.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Date"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. 2022-05-19",id:"inputDate",name:"date",onChange:function(e){var t=e.target,a=t.name,n=t.value;E(Object(d.a)(Object(d.a)({},u),{},Object(m.a)({},a,n)))}}),c.a.createElement("br",null),v?c.a.createElement(L,{message:"Date and time must be selected"}):c.a.createElement("div",{className:"hide"})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){u.date&&u.time?j({bookerPending:!l.currentBooking.bookerPending,id:l.currentBooking.id,date:u.date,time:u.time}).then((function(e){alert("Reshedule requested"),r({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)})):g(!0)}},"Reschedule"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:f},"Close")))))};a(96);var de=function(e){var t=D(),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],u=m[1];return c.a.createElement("div",{className:"clickedEvent col-md-6"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"},l.currentBooking.title," ~ ",e.bookingWith),c.a.createElement("ul",{className:"ul",key:l.currentBooking.id},c.a.createElement("li",{className:"li"},c.a.createElement(i.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"info",className:"detailsIcon"}),l.currentBooking.description," ")),c.a.createElement("li",{className:"li"},c.a.createElement(i.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"map-pin",className:"detailsIcon"})," ",l.currentBooking.location)),c.a.createElement("li",{className:"li"},c.a.createElement(i.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"calendar",className:"detailsIcon"})," ",l.currentBooking.date)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"clock",className:"detailsIcon"}),c.a.createElement($.a,{start:"10:00",end:"21:00",step:30,value:l.currentBooking.time,className:"time"}))),l.actionRequired?c.a.createElement("div",{className:"pendingOptions"},c.a.createElement("button",{type:"button",className:"btn btn-outline-success optBtn",style:{borderColor:"#62c462"},onClick:function(){j({accepted:!0,id:l.currentBooking.id}).then((function(e){alert("Booking made, check your calendar to see"),r({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Accept"),c.a.createElement("button",{type:"button",className:"btn btn-outline-warning optBtn",style:{borderColor:"#f89406"},onClick:function(e){u(!0)}},"Suggest Reschedule"),c.a.createElement("button",{type:"button",className:"btn btn-outline-danger optBtn",style:{borderColor:"#ee5f5b"},onClick:function(){O(l.currentBooking.id).then((function(e){console.log(window.prompt("Rejection Reason: ")),r({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Reject")):c.a.createElement("div",{className:"pendingOptions"},c.a.createElement("h3",{className:"title"},"Waiting for their response")),d?c.a.createElement(me,{setEditEvent:u,bookingWith:e.bookingWith}):c.a.createElement("div",{className:"hide"})))};var ue=function(){var e=D(),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(),o=Object(s.a)(r,2),m=o[0],d=o[1];Object(n.useEffect)((function(){l({type:"CLICKEDEVENT",clickedEvent:!1}),_().then((function(e){0!==e.data.length&&l({type:"ALLPENDINGEVENTS",allPendingEvents:e.data})})).catch((function(e){return console.log(e)})),w().then((function(e){0!==e.data.length&&l({type:"WAITINGEVENT",awaitingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[]);var u=function(){var e=Object(oe.a)(ie.a.mark((function e(t){var n,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.id,c=a.allPendingEvents.filter((function(e){return e.id===n})),e.next=4,l({type:"CURRENTBOOKING",currentBooking:c[0]});case 4:if(c[0].bookee_id!==a.user_id||!c[0].bookerPending){e.next=10;break}return e.next=7,l({type:"ACTIONREQUIRED",actionRequired:!1});case 7:d(c[0].createdByUser.first_name+" "+c[0].createdByUser.last_name),e.next=26;break;case 10:if(c[0].bookee_id!==a.user_id||c[0].bookerPending){e.next=16;break}return e.next=13,l({type:"ACTIONREQUIRED",actionRequired:!0});case 13:d(c[0].createdByUser.first_name+" "+c[0].createdByUser.last_name),e.next=26;break;case 16:if(c[0].booker_id!==a.user_id||!c[0].bookerPending){e.next=22;break}return e.next=19,l({type:"ACTIONREQUIRED",actionRequired:!0});case 19:d(c[0].receivedByUser.first_name+" "+c[0].receivedByUser.last_name),e.next=26;break;case 22:if(c[0].booker_id!==a.user_id||c[0].bookerPending){e.next=26;break}return e.next=25,l({type:"ACTIONREQUIRED",actionRequired:!1});case 25:d(c[0].receivedByUser.first_name+" "+c[0].receivedByUser.last_name);case 26:l({type:"CLICKEDEVENT",clickedEvent:!0});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",className:"backBtnW"},"Click me to go home")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5",style:{marginTop:"6%"}},c.a.createElement("div",{className:"eventList"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"},"Pending Events"),c.a.createElement("ul",{className:"ul"},a.pendingEvents.map((function(e){return c.a.createElement("li",{className:"li events eventTitle title",key:e.id},c.a.createElement(i.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))}))),c.a.createElement("h2",{className:"h2 title"},"Waiting Events"),c.a.createElement("ul",{className:"ul"},a.awaitingEvents.map((function(e){return c.a.createElement("li",{className:"li events eventTitle title",key:e.id},c.a.createElement(i.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))})))))),a.clickedEvent?c.a.createElement(de,{bookingWith:m}):c.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))))};var Ee=function(){var e=Object(n.useState)([""]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),m=o[0],d=o[1],u=Object(n.useState)(),E=Object(s.a)(u,2),b=E[0],p=E[1],v=D(),g=Object(s.a)(v,2),f=g[0],h=g[1];Object(n.useEffect)((function(){N(f.user_id).then((function(e){e.data.length>0&&d(!0),l(e.data)}))}),[]);var k=function(e){var t=e.target.id,n=a.filter((function(e){return e.id==t}));h({type:"CURRENTBOOKING",currentBooking:n[0]}),f.user_id===n[0].receivedByUser.id&&p(n[0].createdByUser.first_name+" "+n[0].createdByUser.last_name),f.user_id===n[0].createdByUser.id?p(n[0].receivedByUser.first_name+" "+n[0].receivedByUser.last_name):console.log("Booking with: "+b),h({type:"CLICKEDEVENT",clickedEvent:!0})};return c.a.createElement("div",null,f.modal?c.a.createElement(ae,{ownPost:!0,setNoEvents:d}):c.a.createElement("div",{className:"hide"}),m?c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",className:"backBtnW"},"Click me to go back")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5",style:{marginTop:"6%"}},c.a.createElement("div",{className:"eventList",style:{height:"auto"}},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"}," Your Events"),c.a.createElement("ul",{className:"ul"},a.map((function(e){return c.a.createElement("li",{className:"li events eventTitle",key:e.id},e.booker_id===f.user_id?c.a.createElement(i.b,{to:"#",scope:"row",onClick:k,id:e.id,style:{color:"red"}},e.title," ~ ",e.date):c.a.createElement(i.b,{to:"#",scope:"row",onClick:k,id:e.id,style:{color:"blue"}},e.title," ~ ",e.date))})))))),f.clickedEvent?c.a.createElement(te,{bookingWith:b,setNoEvents:d}):c.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))):c.a.createElement("div",{className:"centre"},c.a.createElement("h1",null,"You have No Events booked, You can add events on your own or on other's calendar!"," ",c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",className:"backBtn"},"Click me to go home"))),c.a.createElement("div",null)))},be=function(e){var t=e.component,a=Object(u.a)(e,["component"]),l=D(),r=Object(s.a)(l,2),i=r[0],m=r[1];return Object(n.useEffect)((function(){g().then((function(e){m({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id})})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement(o.b,Object.assign({},a,{render:function(e){return i.logged_in?c.a.createElement(t,e):c.a.createElement(o.a,{to:"/login"})}}))};var pe=function(){return c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(U,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/login",component:q}),c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null),c.a.createElement(be,{component:ce,path:"/",exact:!0}),c.a.createElement(o.b,{exact:!0,path:"/date/:id",component:ne}),c.a.createElement(o.b,{exact:!0,path:"/find",component:le}),c.a.createElement(o.b,{exact:!0,path:"/user/:id",component:se}),c.a.createElement(o.b,{exact:!0,path:"/pending",component:ue}),c.a.createElement(o.b,{exact:!0,path:"/pending/event/",component:de}),c.a.createElement(o.b,{exact:!0,path:"/all",component:Ee}))))))};a(97),a(98),a(99);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(pe,null)),document.getElementById("root"))},38:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/calendula-plant.6a73de47.jpg"},44:function(e,t,a){e.exports=a(121)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[44,1,2]]]);
//# sourceMappingURL=main.ac607d82.chunk.js.map