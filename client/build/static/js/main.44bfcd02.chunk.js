(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(17),o=a.n(c),r=(a(48),a(49),a(4)),i=a(6),s=a(2),m=a(8),d=a(3),u=(a(50),a(42)),E=a(7),b=a.n(E),p=function(e){return b.a.post("/api/users/login",e)},v=function(){return b.a.post("/api/users/logout")},g=function(){return b.a.get("/api/users/user")},f=function(e){return b.a.post("/api/users/signup",e)},N=function(e,t){return b.a.get("/api/date/"+e,t)},h=function(){return b.a.get("/api/users/find")},k=function(e){return b.a.get("/api/users/"+e)},O=function(e){return b.a.post("/api/date/",e)},y=function(e){return b.a.delete("/api/date/"+e)},j=function(e){return b.a.put("/api/date/",e)},C=function(){return b.a.get("/api/date/pending/")},w=function(){return b.a.get("/api/date/allpending/")},_=function(){return b.a.get("/api/date/waiting/")},B=Object(n.createContext)(),I=B.Provider,T=function(e,t){switch(t.type){case"SIGNUP":return Object(d.a)(Object(d.a)({},e),{},{login:!1});case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{login:!0});case"userClicked":return Object(d.a)(Object(d.a)({},e),{},{dateClicked:!1});case"modalClick":return Object(d.a)(Object(d.a)({},e),{},{modal:!e.modal,date:t.date});case"eventSubmit":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!0});case"eventSubmitDone":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!1});case"searchInvoked":return Object(d.a)(Object(d.a)({},e),{},{search:t.search});case"addUsers":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"LOGGINGIN":return Object(d.a)(Object(d.a)({},e),{},{logged_in:t.logged_in,user_id:t.id});case"CURRENTBOOKING":return Object(d.a)(Object(d.a)({},e),{},{currentBooking:t.currentBooking});case"CLICKEDEVENT":return Object(d.a)(Object(d.a)({},e),{},{clickedEvent:t.clickedEvent});case"PENDINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{pendingEvents:t.pendingEvents});case"ACTIONREQUIRED":return Object(d.a)(Object(d.a)({},e),{},{actionRequired:t.actionRequired});case"ALLPENDINGEVENTS":return Object(d.a)(Object(d.a)({},e),{},{allPendingEvents:t.allPendingEvents});case"WAITINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{awaitingEvents:t.awaitingEvents});case"BOOKINGWITH":return Object(d.a)(Object(d.a)({},e),{},{bookingWith:t.bookingWith});default:return e}},x=function(e){e.value;var t=Object(u.a)(e,["value"]),a=Object(n.useReducer)(T,{pendingEvents:[],allPendingEvents:[],awaitingEvents:[],users:[],login:!0,dateClicked:!1,date:"",modal:!1,eventAdded:!1,search:"",logged_in:!1,user_id:"",currentBooking:{},clickedEvent:!1,actionRequired:!1,bookingWith:""}),c=Object(s.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){g().then((function(e){console.log(e),r({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id})})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement(I,Object.assign({value:[o,r]},t))},S=function(){return Object(n.useContext)(B)};a(69);var P=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"alert alert-dismissible alert-danger"},l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),l.a.createElement("strong",null,"Oh snap!")," ",l.a.createElement(r.b,{to:"#",className:"alert-link"},e.message)," "))};var D=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(i.f)(),r=S(),u=Object(s.a)(r,2),E=(u[0],u[1]),b=Object(n.useState)(!1),v=Object(s.a)(b,2),g=v[0],f=v[1],N=Object(n.useState)(""),h=Object(s.a)(N,2),k=h[0],O=h[1],y=function(e){var t=e.target,n=t.name,l=t.value;c(Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},n,l)))};return l.a.createElement("div",{className:"col-md-4 loginContainer"},l.a.createElement("form",{className:"form login-form login"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{className:"form-input",type:"text",id:"email-login",name:"email",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{className:"form-input",type:"password",id:"password-login",name:"password",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{id:"signup",className:"btn btn-primary",onClick:function(e){e.preventDefault(),console.log(a.password.length),a.email.length>1&&a.password.length>8?(p({email:a.email,password:a.password}).then((function(e){console.log(e),E({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),console.log(e),o.push("/")})).catch((function(e){console.log(e),f(!0)})),O("Incorrect Email or Password")):(console.log("Failed to log in"),O("Incorrect Email or Password"),f(!0))}},"Login"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),E({type:"SIGNUP"})}},"Sign up here"))),g?l.a.createElement(P,{message:k}):l.a.createElement("div",{className:"hide"}))};a(75),a(76);var R=function(){var e=S(),t=Object(s.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)({email:"",password:"",first_name:"",last_name:""}),o=Object(s.a)(c,2),r=o[0],u=o[1],E=Object(i.f)(),b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],N=Object(n.useState)(""),h=Object(s.a)(N,2),k=h[0],O=h[1],y=function(e){var t=e.target,a=t.name,n=t.value;u(Object(d.a)(Object(d.a)({},r),{},Object(m.a)({},a,n)))};return l.a.createElement("div",{className:"col-md-4 signupContainer"},l.a.createElement("form",{className:"form signup-form signup"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"First Name:"),l.a.createElement("input",{className:"form-input",type:"name",id:"firstname-signup",name:"first_name",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," Last Name:"),l.a.createElement("input",{className:"form-input",type:"name",id:"lastname-signup",name:"last_name",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{className:"form-input",type:"text",id:"email-signup",name:"email",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{className:"form-input",type:"password",id:"password-signup",name:"password",onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{id:"signup",className:"btn btn-primary",onClick:function(e){console.log(r.first_name+r.last_name+r.email+r.password),e.preventDefault(),r.email.length>1&&r.password.length>=8&&r.first_name.length>1&&r.last_name.length>1?f({first_name:r.first_name,last_name:r.last_name,email:r.email,password:r.password}).then((function(e){a({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),E.push("/")})).catch((function(e){O("You must include: Your first name, last name, a valid email address and a password more than 8 characters long"),g(!0)})):(O("You must include: Your first name, last name, a valid email address and a password more than 8 characters long"),g(!0))}},"signup"),l.a.createElement("button",{onClick:function(){console.log("hey"),a({type:"LOGIN",login:!0})}},"Back to Login"))),v?l.a.createElement(P,{message:k}):l.a.createElement("div",{className:"hide"}))},U=a(41),L=a.n(U);var G=function(){var e=S(),t=Object(s.a)(e,1)[0];return l.a.createElement("div",{className:"Container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{id:"welcomeTag"},l.a.createElement("h1",{className:"title"},"Welcome to Calendule"),l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:L.a,alt:"calendula plant"})),l.a.createElement("h5",{className:"title"},"Login or Sign Up to use all the cool features!"))),t.login?l.a.createElement(D,null):l.a.createElement(R,null)))};var W=function(){var e=S(),t=Object(s.a)(e,2),a=t[0],n=t[1];return l.a.createElement("form",{className:"d-flex"},l.a.createElement("input",{className:"form-control me-sm-2",type:"text",placeholder:"Search for a person",onChange:function(e){n({type:"searchInvoked",search:e.target.value})},value:a.search}),l.a.createElement(r.b,{to:"/find"},l.a.createElement("button",{className:"btn btn-secondary my-2 my-sm-0",type:"submit"},"Search")))},A=(a(77),a(9)),V=a.n(A);a(80);var K=function(){var e=S(),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){C().then((function(e){0!==e.data.length&&c({type:"PENDINGEVENT",pendingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[a.user_id,a.clickedEvent]),l.a.createElement("div",null,l.a.createElement(r.b,{to:"#",className:"notification nav-link dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("span",null,l.a.createElement(V.a,{icon:"bell"})),l.a.createElement("span",{className:"badge"},a.pendingEvents.length)),l.a.createElement("div",{className:"dropdown-menu dropContainer"},l.a.createElement(r.b,{className:"dropdown-item",to:"#"},l.a.createElement("h5",null," Your Pending Events: ")),a.pendingEvents.map((function(e){return l.a.createElement(r.b,{className:"dropdown-item left",to:"/pending",key:e.id,id:e.id},e.title)})),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(r.b,{className:"dropdown-item",to:"/pending"},"See all pending events")))};var q=function(){var e=S(),t=Object(s.a)(e,1)[0];return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(r.b,{className:"navbar-brand title",to:"/"},"Calendule"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},l.a.createElement("ul",{className:"navbar-nav me-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(r.b,{className:"nav-link",to:"/"},"User")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(r.b,{className:"nav-link",to:"/find"},"Book")),t.logged_in?l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:"nav-link hover",to:"#",onClick:function(){v().then((function(e){window.location.replace("/login")})).catch((function(e){console.log(e)}))}},"Logout")):l.a.createElement("li",{className:"nav-item"},l.a.createElement(r.b,{className:"nav-link hover",to:"/login"},"Login")),l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement(K,null))))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},l.a.createElement(W,null)))},Y=a(21),Q=a(22),F=a(23),M=(a(83),a(37),a(16)),J=a.n(M);var H=function(e){Object(i.g)().id;var t=S(),a=Object(s.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),E=Object(s.a)(u,2),b=E[0],p=E[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),f=g[0],N=g[1],h=function(e){e.preventDefault(),N(!1),o({type:"modalClick"})},k=function(e){var t=e.target,a=t.name,n=t.value;p(Object(d.a)(Object(d.a)({},b),{},Object(m.a)({},a,n)))};return l.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},"Reschedule the event ",c.currentBooking.title," ",c.date),l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:h})),l.a.createElement("div",{className:"modal-body"},l.a.createElement("label",{className:"col-form-label mt-4"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:k}),l.a.createElement("label",{className:"col-form-label mt-4"},"Description"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",onChange:k}),l.a.createElement("label",{className:"col-form-label mt-4"},"Time"),l.a.createElement(J.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){p(Object(d.a)(Object(d.a)({},b),{},{time:e}))},value:b.time}),l.a.createElement("label",{className:"col-form-label mt-4"},"Location"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:k}),l.a.createElement("br",null),f?l.a.createElement("div",{className:"alert alert-dismissible alert-danger"},l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),l.a.createElement("strong",null,"Oh snap!")," ",l.a.createElement(r.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):l.a.createElement("div",null)),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){var a;(t.preventDefault(),N(!1),console.log(b.title),b.title&&b.description,b.time,b.location)?(o({type:"modalClick"}),j((a={title:b.title,description:b.description,time:b.time,location:b.location,id:c.currentBooking.id,accepted:!1},Object(m.a)(a,"time",b.time),Object(m.a)(a,"bookerPending",!c.currentBooking.bookerPending),a)).then((function(t){alert("Reschedule request sent, check your pending events to see this event!"),e.setNoEvents(!1)})).catch((function(e){console.log(e)}))):N(!0);console.log(b)}},"Save Event"),l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:h},"Close")))))};var z=function(e){var t=S(),a=Object(s.a)(t,2),n=a[0],c=a[1];return l.a.createElement("div",{className:"clickedEvent col-md-6"},l.a.createElement("div",{className:"listCOntainer"},l.a.createElement("div",{className:"updatePosts"},l.a.createElement(V.a,{icon:"edit",className:"updatePost",onClick:function(){c({type:"modalClick",date:n.currentBooking.date})}}),l.a.createElement(V.a,{icon:"trash-2",className:"updatePost",onClick:function(){window.confirm("Cancel this Event?")&&y(n.currentBooking.id).then((function(t){console.log("Ben changhe this to re mount the other component maybe"),e.setNoEvents(!1),c({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}})),l.a.createElement("h2",{className:"h2 title"}," ",n.currentBooking.title," ~ ",e.bookingWith),l.a.createElement("ul",{className:"ul"},l.a.createElement("li",{className:"li"},l.a.createElement(V.a,{icon:"info",className:"detailsIcon"}),l.a.createElement(r.b,{to:"#"}," ",n.currentBooking.description)),l.a.createElement("li",{className:"li"},l.a.createElement(V.a,{icon:"map-pin",className:"detailsIcon"})," ",l.a.createElement(r.b,{to:"#"}," ",n.currentBooking.location)),l.a.createElement("li",{className:"li"},l.a.createElement(V.a,{icon:"calendar",className:"detailsIcon"})," ",l.a.createElement(r.b,{to:"#"}," ",n.currentBooking.date)),l.a.createElement("li",{className:"li"},l.a.createElement(V.a,{icon:"clock",className:"detailsIcon"})," ",l.a.createElement(J.a,{start:"10:00",end:"21:00",step:30,value:n.currentBooking.time,className:"time"})))),n.modal?l.a.createElement(H,{setNoEvents:e.setNoEvents}):l.a.createElement("div",{className:"hide"}))};var X=function(e){var t=Object(i.g)().id,a=S(),c=Object(s.a)(a,2),o=c[0],u=c[1],E=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),N=f[0],h=f[1],k=function(e){e.preventDefault(),h(!1),u({type:"modalClick"})},y=function(e){var t=e.target,a=t.name,n=t.value;v(Object(d.a)(Object(d.a)({},p),{},Object(m.a)({},a,n)))};return l.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},"Add an event for ",o.date),l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:k})),l.a.createElement("div",{className:"modal-body"},l.a.createElement("label",{className:"col-form-label mt-4"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:y}),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label mt-4"},"Description"),l.a.createElement("textarea",{className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",rows:"3",spellCheck:"true",onChange:y})),l.a.createElement("label",{className:"col-form-label mt-4"},"Time"),l.a.createElement(J.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){v(Object(d.a)(Object(d.a)({},p),{},{time:e}))},value:p.time}),l.a.createElement("label",{className:"col-form-label mt-4"},"Location"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:y}),l.a.createElement("br",null),N?l.a.createElement("div",{className:"alert alert-dismissible alert-danger"},l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),l.a.createElement("strong",null,"Oh snap!")," ",l.a.createElement(r.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):l.a.createElement("div",{className:"hide"})),l.a.createElement("div",{className:"modal-footer"},e.ownPost?l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){t.preventDefault(),h(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),O({title:p.title,description:p.description,time:p.time,date:o.date,location:p.location,booker_id:o.user_id,bookee_id:o.user_id,accepted:!0,bookerPending:!0}).then((function(e){alert("Event added succesfully!")})).catch((function(e){console.log(e),alert("Uh oh! Something went wrong"),h(!0)}))):h(!0),e.setNoEvents(!0)}},"Save Event"):l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){e.preventDefault(),h(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),O({title:p.title,description:p.description,time:p.time,date:o.date,location:p.location,booker_id:o.user_id,bookee_id:t,accepted:!1,bookerPending:!1}).then((function(e){alert("Event request succesful!")})).catch((function(e){console.log(e),alert("Uh oh! Something went wrong"),h(!0)}))):h(!0)}},"Save Event"),l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:k},"Close")))))};var Z=function(){var e=Object(n.useState)([""]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],u=m[1],E=Object(n.useState)(),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(),f=Object(s.a)(g,2),h=(f[0],f[1],Object(i.g)().id),k=S(),O=Object(s.a)(k,2),y=O[0],j=O[1];Object(n.useEffect)((function(){N(h,y.user_id).then((function(e){e.data.length>0&&u(!0),c(e.data),console.log(e.data)}))}),[d]);var C=function(e){var t=e.target.id,n=a.filter((function(e){return e.id==t}));j({type:"CURRENTBOOKING",currentBooking:n[0]}),console.log("created by user id: "+n[0].createdByUser.id),console.log("received by user id: "+n[0].receivedByUser.id),y.user_id===n[0].receivedByUser.id&&v(n[0].createdByUser.first_name+" "+n[0].createdByUser.last_name),y.user_id===n[0].createdByUser.id?v(n[0].receivedByUser.first_name+" "+n[0].receivedByUser.last_name):console.log("Booking with: "+p),j({type:"CLICKEDEVENT",clickedEvent:!0})},w=function(){j({type:"CLICKEDEVENT",clickedEvent:!1}),j({type:"modalClick",date:h})};return l.a.createElement("div",null,y.modal?l.a.createElement(X,{ownPost:!0,setNoEvents:u}):l.a.createElement("div",{className:"hide"}),d?l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement(r.b,{to:"/",className:"backBtnW"},"Click me to go back")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn addBtn btn-light",style:{marginTop:"7%"},onClick:w},"+ Add Event for Today")),l.a.createElement("div",{className:"eventList"},l.a.createElement("div",{className:"listContainer"},l.a.createElement("h2",{className:"h2 title"}," Today's Events"),l.a.createElement("ul",{className:"ul"},a.map((function(e){return l.a.createElement("li",{className:"li events eventTitle",key:e.id},e.booker_id===y.user_id?l.a.createElement(r.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"red"}},e.title):l.a.createElement(r.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"blue"}},e.title))})))))),y.clickedEvent?l.a.createElement(z,{bookingWith:p,setNoEvents:u}):l.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))):l.a.createElement("div",{className:"centre"},l.a.createElement("h1",null,"You have nothing but time today!"," ",l.a.createElement("div",null,l.a.createElement(r.b,{to:"/",className:"backBtn"},"Click me to go back"))),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-light",onClick:w},"+ Add Event for Today"))))};var $=function(){var e=Object(i.f)();return l.a.createElement("div",null,l.a.createElement("h1",{className:"title"},"Welcome to your personalised Calendar, click a day to see your events"),l.a.createElement(Y.a,{plugins:[Q.a,F.a],initialView:"dayGridMonth",dateClick:function(t){e.push("/date/".concat(t.dateStr))}}))};a(88);var ee=function(){var e=S(),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(i.f)();Object(n.useEffect)((function(){h().then((function(e){c({type:"addUsers",users:e.data})}))}),[]);var r=function(e){var t=e.target.id;console.log(t),o.push("/user/".concat(t))},m=a.users.filter((function(e){return e.first_name.toUpperCase().includes(a.search.toUpperCase())}));return l.a.createElement("div",{className:"Container"},l.a.createElement("div",{className:"row people"},l.a.createElement("h1",{onClick:function(){var e=a.users.filter((function(e){return e.first_name===a.search}));console.log(a.users),console.log(a.search),console.log(e)},className:"title"}," ","Search for someone to make an event!"),l.a.createElement("form",{className:"search"},l.a.createElement("div",{className:"form-group searchBar"},l.a.createElement("label",{htmlFor:"employee"},"People:"),l.a.createElement("input",{value:a.search,onChange:function(e){c({type:"searchInvoked",search:e.target.value})},employee:"employee",list:"employees",type:"text",className:"form-control",placeholder:"Look for someone",id:"employee"}))),m.map((function(e){return l.a.createElement("div",{className:"col-md-2 box",style:{maxWidth:"20rem"},key:e.id,id:e.id,onClick:r},l.a.createElement("div",{className:"card-body",id:e.id,onClick:r},l.a.createElement("h4",{className:"card-title text",id:e.id,onClick:r}," ",e.first_name," ",e.last_name)))}))))},te=a(18),ae=a.n(te),ne=a(20);a(90);var le=function(){var e=Object(i.g)().id,t=S(),a=Object(s.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)({}),m=Object(s.a)(r,2),d=m[0],u=m[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),p=(b[0],b[1]);Object(n.useEffect)((function(){k(e).then((function(e){console.log(e.data),u(e.data)})),console.log(c.logged_in+c.user_id)}),[]);var v=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.dateStr),e.next=3,p(t.dateStr);case 3:o({type:"modalClick",date:t.dateStr});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement("h1",{className:"altTitle"},"Welcome to ",d.first_name,"'s Calendar! Cick a day to add an event!"),l.a.createElement(Y.a,{plugins:[Q.a,F.a],initialView:"dayGridMonth",dateClick:v}),c.modal?l.a.createElement(X,null):l.a.createElement("div",{className:"hide"}))};var ce=function(e){var t=S(),a=Object(s.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)({date:"",time:0}),i=Object(s.a)(r,2),u=i[0],E=i[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],f=function(t){t.preventDefault(),g(!1),e.setEditEvent(!1)};return l.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},"Rescedule event with ",e.bookingWith),l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:f})),l.a.createElement("div",{className:"modal-body"},l.a.createElement("label",{className:"col-form-label mt-4"},"Time"),l.a.createElement(J.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){E(Object(d.a)(Object(d.a)({},u),{},{time:e}))},value:u.time}),l.a.createElement("label",{className:"col-form-label mt-4"},"Date"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. 2022/05/19",id:"inputDate",name:"date",onChange:function(e){var t=e.target,a=t.name,n=t.value;E(Object(d.a)(Object(d.a)({},u),{},Object(m.a)({},a,n)))}}),l.a.createElement("br",null),v?l.a.createElement(P,{message:"Date and time must be selected"}):l.a.createElement("div",{className:"hide"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){u.date&&u.time?j({bookerPending:!c.currentBooking.bookerPending,id:c.currentBooking.id,date:u.date,time:u.time}).then((function(e){alert("Reshedule requested"),o({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)})):g(!0)}},"Reschedule"),l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:f},"Close")))))};a(91);var oe=function(e){var t=S(),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),d=m[0],u=m[1];return l.a.createElement("div",{className:"clickedEvent col-md-6"},l.a.createElement("div",{className:"listContainer"},l.a.createElement("h2",{className:"h2 title"},c.currentBooking.title," ~ ",e.bookingWith),l.a.createElement("ul",{className:"ul",key:c.currentBooking.id},l.a.createElement("li",{className:"li"},l.a.createElement(r.b,{to:"#"}," ",l.a.createElement(V.a,{icon:"info",className:"detailsIcon"}),c.currentBooking.description," ")),l.a.createElement("li",{className:"li"},l.a.createElement(r.b,{to:"#"}," ",l.a.createElement(V.a,{icon:"map-pin",className:"detailsIcon"})," ",c.currentBooking.location)),l.a.createElement("li",{className:"li"},l.a.createElement(r.b,{to:"#"}," ",l.a.createElement(V.a,{icon:"calendar",className:"detailsIcon"})," ",c.currentBooking.date)),l.a.createElement("li",{className:"li"},l.a.createElement(V.a,{icon:"clock",className:"detailsIcon"}),l.a.createElement(J.a,{start:"10:00",end:"21:00",step:30,value:c.currentBooking.time,className:"time"}))),c.actionRequired?l.a.createElement("div",{className:"pendingOptions"},l.a.createElement("button",{type:"button",className:"btn btn-outline-success optBtn",style:{borderColor:"#62c462"},onClick:function(){j({accepted:!0,id:c.currentBooking.id}).then((function(e){alert("Booking made, check your calendar to see"),o({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Accept"),l.a.createElement("button",{type:"button",className:"btn btn-outline-warning optBtn",style:{borderColor:"#f89406"},onClick:function(e){u(!0)}},"Suggest Reschedule"),l.a.createElement("button",{type:"button",className:"btn btn-outline-danger optBtn",style:{borderColor:"#ee5f5b"},onClick:function(){y(c.currentBooking.id).then((function(e){console.log("Ben changhe this to re mount the other component maybe"),console.log(window.prompt("Rejection Reason: ")),o({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Reject")):l.a.createElement("div",{className:"pendingOptions"},l.a.createElement("h3",{className:"title"},"Waiting for their response")),d?l.a.createElement(ce,{setEditEvent:u,bookingWith:e.bookingWith}):l.a.createElement("div",{className:"hide"})))};var re=function(){var e=S(),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),i=Object(s.a)(o,2),m=i[0],d=i[1];Object(n.useEffect)((function(){w().then((function(e){console.log(e),0!==e.data.length&&c({type:"ALLPENDINGEVENTS",allPendingEvents:e.data})})).catch((function(e){return console.log(e)})),_().then((function(e){0!==e.data.length&&c({type:"WAITINGEVENT",awaitingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[a.clickedEvent]);var u=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var n,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.id,l=a.allPendingEvents.filter((function(e){return e.id===n})),e.next=4,c({type:"CURRENTBOOKING",currentBooking:l[0]});case 4:if(l[0].bookee_id!==a.user_id||!l[0].bookerPending){e.next=10;break}return e.next=7,c({type:"ACTIONREQUIRED",actionRequired:!1});case 7:d(l[0].createdByUser.first_name+" "+l[0].createdByUser.last_name),e.next=26;break;case 10:if(l[0].bookee_id!==a.user_id||l[0].bookerPending){e.next=16;break}return e.next=13,c({type:"ACTIONREQUIRED",actionRequired:!0});case 13:d(l[0].createdByUser.first_name+" "+l[0].createdByUser.last_name),e.next=26;break;case 16:if(l[0].booker_id!==a.user_id||!l[0].bookerPending){e.next=22;break}return e.next=19,c({type:"ACTIONREQUIRED",actionRequired:!0});case 19:d(l[0].receivedByUser.first_name+" "+l[0].receivedByUser.last_name),e.next=26;break;case 22:if(l[0].booker_id!==a.user_id||l[0].bookerPending){e.next=26;break}return e.next=25,c({type:"ACTIONREQUIRED",actionRequired:!1});case 25:d(l[0].receivedByUser.first_name+" "+l[0].receivedByUser.last_name);case 26:c({type:"CLICKEDEVENT",clickedEvent:!0});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement(r.b,{to:"/",className:"backBtnW"},"Click me to go home")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("div",{className:"eventList"},l.a.createElement("div",{className:"listContainer"},l.a.createElement("h2",{className:"h2 title"},"Pending Events"),l.a.createElement("ul",{className:"ul"},a.pendingEvents.map((function(e){return l.a.createElement("li",{className:"li events eventTitle title",key:e.id},l.a.createElement(r.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))}))),l.a.createElement("h2",{className:"h2 title"},"Waiting Events"),l.a.createElement("ul",{className:"ul"},a.awaitingEvents.map((function(e){return l.a.createElement("li",{className:"li events eventTitle title",key:e.id},l.a.createElement(r.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))})))))),a.clickedEvent?l.a.createElement(oe,{bookingWith:m}):l.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))))};var ie=function(){return l.a.createElement(r.a,null,l.a.createElement("div",null,l.a.createElement(x,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/login",component:G}),l.a.createElement(l.a.Fragment,null,l.a.createElement(q,null),l.a.createElement(i.a,{exact:!0,path:"/",component:$}),l.a.createElement(i.a,{exact:!0,path:"/date/:id",component:Z}),l.a.createElement(i.a,{exact:!0,path:"/find",component:ee}),l.a.createElement(i.a,{exact:!0,path:"/user/:id",component:le}),l.a.createElement(i.a,{exact:!0,path:"/pending",component:re}),l.a.createElement(i.a,{exact:!0,path:"/pending/event/",component:oe}))))))};a(92),a(93),a(94);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ie,null)),document.getElementById("root"))},37:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/calendula-plant.6a73de47.jpg"},43:function(e,t,a){e.exports=a(116)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.44bfcd02.chunk.js.map