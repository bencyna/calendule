(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(18),i=a.n(l),r=(a(52),a(53),a(5)),o=a(8),s=a(3),m=a(11),d=a(4),u=(a(54),a(24)),E=a(10),b=a.n(E),p=function(e){return b.a.post("/api/users/login",e)},v=function(){return b.a.post("/api/users/logout")},g=function(){return b.a.get("/api/users/user")},f=function(e){return b.a.post("/api/users/signup",e)},N=function(e,t){return b.a.get("/api/date/"+e,t)},k=function(e){return b.a.get("/api/date/",e)},h=function(){return b.a.get("/api/users/find")},O=function(e){return b.a.get("/api/users/"+e)},y=function(e){return b.a.post("/api/date/",e)},j=function(e){return b.a.delete("/api/date/"+e)},C=function(e){return b.a.put("/api/date/",e)},B=function(){return b.a.get("/api/date/pending/")},w=function(){return b.a.get("/api/date/allpending/")},_=function(){return b.a.get("/api/date/waiting/")},I=function(e){return b.a.post("api/users/facebook/",e)},S=function(e){return b.a.get("api/users/save/"+e)},T=Object(n.createContext)(),D=T.Provider,x=function(e,t){switch(t.type){case"SIGNUP":return Object(d.a)(Object(d.a)({},e),{},{login:!1});case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{login:!0});case"userClicked":return Object(d.a)(Object(d.a)({},e),{},{dateClicked:!1});case"modalClick":return Object(d.a)(Object(d.a)({},e),{},{modal:!e.modal,date:t.date});case"eventSubmit":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!0});case"eventSubmitDone":return Object(d.a)(Object(d.a)({},e),{},{eventAdded:!1});case"searchInvoked":return Object(d.a)(Object(d.a)({},e),{},{search:t.search});case"addUsers":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"LOGGINGIN":return Object(d.a)(Object(d.a)({},e),{},{logged_in:t.logged_in,user_id:t.id});case"CURRENTBOOKING":return Object(d.a)(Object(d.a)({},e),{},{currentBooking:t.currentBooking});case"CLICKEDEVENT":return Object(d.a)(Object(d.a)({},e),{},{clickedEvent:t.clickedEvent});case"PENDINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{pendingEvents:t.pendingEvents});case"ACTIONREQUIRED":return Object(d.a)(Object(d.a)({},e),{},{actionRequired:t.actionRequired});case"ALLPENDINGEVENTS":return Object(d.a)(Object(d.a)({},e),{},{allPendingEvents:t.allPendingEvents});case"WAITINGEVENT":return Object(d.a)(Object(d.a)({},e),{},{awaitingEvents:t.awaitingEvents});case"BOOKINGWITH":return Object(d.a)(Object(d.a)({},e),{},{bookingWith:t.bookingWith});case"PREVENTCLOSE":return Object(d.a)(Object(d.a)({},e),{},{eventClick:!0});case"ENABLECLOSE":return Object(d.a)(Object(d.a)({},e),{},{eventClick:!1});case"DAYSELECTED":return Object(d.a)(Object(d.a)({},e),{},{daySelected:!0});case"DAYUNSELECTED":return Object(d.a)(Object(d.a)({},e),{},{daySelected:!1});default:return e}},L=function(e){e.value;var t=Object(u.a)(e,["value"]),a=Object(n.useReducer)(x,{pendingEvents:[],allPendingEvents:[],awaitingEvents:[],users:[],login:!0,dateClicked:!1,date:"",modal:!1,eventAdded:!1,search:"",logged_in:!1,user_id:"",currentBooking:{description:"",date:new Date,location:"",time:""},clickedEvent:!1,actionRequired:!1,bookingWith:"",eventClick:!1,daySelected:!1}),l=Object(s.a)(a,2),i=l[0],r=l[1];return Object(n.useEffect)((function(){g().then((function(e){r({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id})})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement(D,Object.assign({value:[i,r]},t))},R=function(){return Object(n.useContext)(T)};a(73);var P=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(r.b,{to:"#",className:"alert-link"},e.message)," "))},U=a(44),G=a.n(U);a(81);var A=function(){var e=R(),t=Object(s.a)(e,2),a=(t[0],t[1]),n=Object(o.g)();return c.a.createElement(G.a,{appId:"312864710465609",autoLoad:!0,fields:"first_name, last_name,email,id",callback:function(e){I({first_name:e.first_name,last_name:e.last_name,id:e.id,email:e.email}).then((function(t){var c=e.id;S(c).then((function(e){a({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),n.push("/")}))})).catch((function(e){console.log(e)}))},className:"my-facebook-button-class",icon:"fa-facebook",version:"v2.8"})};var V=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(o.g)(),r=R(),u=Object(s.a)(r,2),E=(u[0],u[1]),b=Object(n.useState)(!1),v=Object(s.a)(b,2),g=v[0],f=v[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),h=k[0],O=k[1],y=function(e){var t=e.target,n=t.name,c=t.value;l(Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},n,c)))};return c.a.createElement("div",{className:"col-md-4 loginContainer"},c.a.createElement("form",{className:"form login-form login"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{className:"form-input",type:"text",id:"email-login",name:"email",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password:"),c.a.createElement("input",{className:"form-input",type:"password",id:"password-login",name:"password",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{id:"signup",className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),a.email.length>1&&a.password.length>8?(p({email:a.email,password:a.password}).then((function(e){E({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),i.push("/")})).catch((function(e){f(!0)})),O("Incorrect Email or Password")):(O("Incorrect Email or Password"),f(!0))}},"Login"),c.a.createElement("button",{className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),E({type:"SIGNUP"})}},"Sign up here"))),g?c.a.createElement(P,{message:h}):c.a.createElement("div",{className:"hide"}),c.a.createElement(A,null))};a(82),a(83);var W=function(){var e=R(),t=Object(s.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)({email:"",password:"",first_name:"",last_name:""}),i=Object(s.a)(l,2),r=i[0],u=i[1],E=Object(o.g)(),b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),h=k[0],O=k[1],y=function(e){var t=e.target,a=t.name,n=t.value;u(Object(d.a)(Object(d.a)({},r),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"col-md-4 signupContainer"},c.a.createElement("form",{className:"form signup-form signup"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"First Name:"),c.a.createElement("input",{className:"form-input",type:"name",id:"firstname-signup",name:"first_name",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null," Last Name:"),c.a.createElement("input",{className:"form-input",type:"name",id:"lastname-signup",name:"last_name",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{className:"form-input",type:"text",id:"email-signup",name:"email",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password:"),c.a.createElement("input",{className:"form-input",type:"password",id:"password-signup",name:"password",onChange:y})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{id:"signup",className:"btn btn-primary initBtns",onClick:function(e){e.preventDefault(),r.email.length>1&&r.password.length>=8&&r.first_name.length>1&&r.last_name.length>1?f({first_name:r.first_name,last_name:r.last_name,email:r.email,password:r.password}).then((function(e){a({type:"LOGGINGIN",logged_in:e.data.logged_in,id:e.data.user_id}),E.push("/")})).catch((function(e){O("That email is already in use"),g(!0)})):(O("You must include: Your first name, last name, a valid email address and a password more than 8 characters long"),g(!0))}},"signup"),c.a.createElement("button",{className:"btn btn-primary initBtns",onClick:function(){a({type:"LOGIN",login:!0})}},"Back to Login"))),v?c.a.createElement(P,{message:h}):c.a.createElement("div",{className:"hide"}))},K=a(45),q=a.n(K);var Y=function(){var e=R(),t=Object(s.a)(e,1)[0];return c.a.createElement("div",{className:"Container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{id:"welcomeTag"},c.a.createElement("h1",{className:"title"},"Welcome to Calendule"),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:q.a,alt:"calendula plant"})),c.a.createElement("h5",{className:"title",style:{marginTop:"20px"}},"Login or Sign Up to use all the cool features!"),c.a.createElement("small",{style:{display:"inline-block",maxWidth:"500px",textAlign:"center"}}," ","Calendule is the perfect scheduling app. Making appointments, meetings or even booking in a slot to meet up with friends can easily be done without the back and fourth we've gotten so custom to. Simply find your friends, collegues or organisation and request an event. Once accepted it will be available to see in both you and your recepients calendar, Enjoy!"))),t.login?c.a.createElement(V,null):c.a.createElement(W,null)))};var M=function(){var e=R(),t=Object(s.a)(e,2),a=t[0],n=t[1];return c.a.createElement("form",{className:"d-flex"},c.a.createElement("input",{className:"form-control me-sm-2",type:"text",placeholder:"Search for a person",onChange:function(e){n({type:"searchInvoked",search:e.target.value})},value:a.search}),c.a.createElement(r.b,{to:"/find"},c.a.createElement("button",{className:"btn btn-secondary my-2 my-sm-0",type:"submit"},"Search")))},Q=(a(84),a(9)),F=a.n(Q);a(87);var H=function(){var e=R(),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){B().then((function(e){0!==e.data.length&&l({type:"PENDINGEVENT",pendingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[a.user_id,a.clickedEvent]),c.a.createElement("div",null,c.a.createElement(r.b,{to:"#",className:"notification nav-link dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},c.a.createElement("span",null,c.a.createElement(F.a,{icon:"bell"})),c.a.createElement("span",{className:"badge"},a.pendingEvents.length)),c.a.createElement("div",{className:"dropdown-menu dropContainer"},c.a.createElement(r.b,{className:"dropdown-item",to:"#"},c.a.createElement("h5",null," Your Pending Events: ")),a.pendingEvents.map((function(e){return c.a.createElement(r.b,{className:"dropdown-item left",to:"/pending",key:e.id,id:e.id},e.title)})),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement(r.b,{className:"dropdown-item",to:"/pending"},"See all pending events")))};var J=function(){var e=R(),t=Object(s.a)(e,2),a=t[0];return t[1],c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement(r.b,{className:"navbar-brand",to:"/"},"Calendule"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},c.a.createElement("ul",{className:"navbar-nav me-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.b,{className:"nav-link",to:"/"},c.a.createElement(F.a,{icon:"calendar"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.b,{className:"nav-link",to:"/find"},c.a.createElement(F.a,{icon:"search"}))),a.logged_in?c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"nav-link hover",to:"#",onClick:function(){v().then((function(e){window.location.replace("/login")})).catch((function(e){console.log(e)}))}},c.a.createElement(F.a,{icon:"log-out"}))):c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.b,{className:"nav-link hover",to:"/login"},"Login")),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement(H,null))))),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},c.a.createElement(M,null)))},z=a(25),X=a(20),Z=a(21),$=(a(90),a(91),a(39),a(127)),ee=a(128),te=a(129),ae=a(130),ne=a(131),ce=a(132),le=a(16),ie=a.n(le);var re=function(e){Object(o.h)().id;var t=R(),a=Object(s.a)(t,2),l=a[0],i=a[1],u=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),E=Object(s.a)(u,2),b=E[0],p=E[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),f=g[0],N=g[1],k=function(e){e.preventDefault(),N(!1),i({type:"modalClick"})},h=function(e){var t=e.target,a=t.name,n=t.value;p(Object(d.a)(Object(d.a)({},b),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Reschedule the event ",l.currentBooking.title," ",l.date),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:k})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Title"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:h}),c.a.createElement("label",{className:"col-form-label mt-4"},"Description"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",onChange:h}),c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement(ie.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){p(Object(d.a)(Object(d.a)({},b),{},{time:e}))},value:b.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Location"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:h}),c.a.createElement("br",null),f?c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(r.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):c.a.createElement("div",null)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){var a;(t.preventDefault(),N(!1),b.title&&b.description,b.time,b.location)?(i({type:"modalClick"}),C((a={title:b.title,description:b.description,time:b.time,location:b.location,id:l.currentBooking.id,accepted:!1},Object(m.a)(a,"time",b.time),Object(m.a)(a,"bookerPending",!l.currentBooking.bookerPending),a)).then((function(t){alert("Reschedule request sent, check your pending events to see this event!"),e.setNoEvents(!1)})).catch((function(e){console.log(e)}))):N(!0)}},"Save Event"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:k},"Close")))))};function oe(e){var t=R(),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),u=o[0],E=o[1],b=Object(n.useState)({}),p=Object(s.a)(b,2),v=p[0],g=p[1],f=function(e){0===Object.keys(v).length&&g({bookerPending:!l.currentBooking.bookerPending,id:l.currentBooking.id,date:l.currentBooking.date,time:l.currentBooking.time,description:l.currentBooking.description,location:l.currentBooking.location});var t=e.target,a=t.name,n=t.value;i({type:"CURRENTBOOKING",currentBooking:Object(d.a)(Object(d.a)({},l.currentBooking),{},Object(m.a)({},a,n))}),E("show")},N=function(){e.toggleOverlay("")};return c.a.createElement("div",{className:"overlay ".concat(e.show)},c.a.createElement("div",{className:"eventTitle"},c.a.createElement("textarea",{className:"inline-block eventHead",draggable:"false",value:l.currentBooking.title}),c.a.createElement($.a,{className:"inline-block minimise",onClick:N})),c.a.createElement("div",{className:"listCOntainer"},c.a.createElement("div",{className:"updatePosts"},c.a.createElement(ee.a,{className:"updatePost",onClick:function(){console.log(l.currentBooking.id),window.confirm("Cancel this Event?")&&j(l.currentBooking.id).then((function(t){e.updateBookings(),N(),e.setNoEvents(!1),i({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}})),c.a.createElement("ul",{className:"ul"},c.a.createElement("li",{className:"li"},c.a.createElement(te.a,{className:"detailsIcon"}),c.a.createElement("input",{className:"eventDetailItem",name:"description",onChange:f,value:l.currentBooking.description,placeholder:"Add your description here..."})),c.a.createElement("li",{className:"li"},c.a.createElement(ae.a,{className:"detailsIcon"})," ",c.a.createElement("input",{className:"eventDetailItem",name:"location",onChange:f,value:l.currentBooking.location,placeholder:"remind yourself of where this is..."})),c.a.createElement("li",{className:"li"},c.a.createElement(ne.a,{className:"detailsIcon"})," ",c.a.createElement("input",{type:"date",className:"eventDetailItem",name:"date",onChange:f,value:l.currentBooking.date})),c.a.createElement("li",{className:"li"},c.a.createElement(ce.a,{className:"detailsIcon"})," ",c.a.createElement("input",{type:"time",className:"eventDetailItem",name:"time",onChange:f,value:l.currentBooking.time})))),c.a.createElement("div",{className:"editBtns"},c.a.createElement("button",{type:"button",onClick:function(){i({type:"modalClick",date:l.currentBooking.date}),console.log(l.currentBooking.time),l.currentBooking.date&&l.currentBooking.time?C({bookerPending:!l.currentBooking.bookerPending,id:l.currentBooking.id,date:l.currentBooking.date,time:l.currentBooking.time,description:l.currentBooking.description,location:l.currentBooking.location}).then((function(e){alert("Reshedule requested"),i({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){console.log(e),alert("Issue with server")})):alert("date and or time missing")},className:"".concat(u," updateBtn")},"Save changes"),c.a.createElement("button",{type:"button",onClick:function(){i({type:"CURRENTBOOKING",currentBooking:v})},className:"".concat(u," resetBtn")},"reset changes")))}var se=function(e){var t=Object(n.useRef)(null),a=R(),l=Object(s.a)(a,2),i=l[0],r=l[1],o=Object(n.useState)(),u=Object(s.a)(o,2),E=u[0],b=u[1],p=Object(n.useState)(""),v=Object(s.a)(p,2),g=v[0],f=v[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),h=k[0],O=k[1],j=Object(n.useState)(!1),C=Object(s.a)(j,2),B=(C[0],C[1]),w=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0,title:""}),_=Object(s.a)(w,2),I=_[0],S=_[1];Object(n.useEffect)((function(){t.current.focus()}),[]);var T=function(t){var a=t.target.id,n=e.bookings.filter((function(e){return e.id==a}));r({type:"CURRENTBOOKING",currentBooking:n[0]}),i.user_id===n[0].receivedByUser.id&&b(n[0].createdByUser.first_name+" "+n[0].createdByUser.last_name),i.user_id===n[0].createdByUser.id&&b(n[0].receivedByUser.first_name+" "+n[0].receivedByUser.last_name),f("show")},D=function(t){t.preventDefault(),B(!1),I.title&&e.selectedDay?(r({type:"modalClick"}),y({title:I.title,description:I.description,time:I.time,date:e.selectedDay,location:I.location,booker_id:i.user_id,bookee_id:i.user_id,accepted:!0,bookerPending:!1}).then((function(t){S(Object(d.a)(Object(d.a)({},I),{},{title:""}));var a={dateStr:e.selectedDay};e.handleDateClick(a);var n=e.events.concat({title:t.data.title,date:t.data.date,id:t.data.id});e.setAllEvents(n)})).catch((function(e){console.log(e),alert("Uh oh! Something went wrong"),B(!0)}))):B(!0)};return c.a.createElement("div",{className:"scheduleList"},c.a.createElement("div",{className:"scheduleHeader"},c.a.createElement("input",{placeholder:"Add to your calendar...",onKeyUp:function(e){"Enter"==e.key&&D(e)},ref:t,name:"title",onChange:function(e){var t=e.target,a=t.name,n=t.value;S(Object(d.a)(Object(d.a)({},I),{},Object(m.a)({},a,n))),"title"==a&&n.length>0?O("show"):O("")},value:I.title,className:"addEventTitle"}),c.a.createElement("div",{className:"headerExtras"},c.a.createElement("input",{type:"date",onChange:function(t){return e.setSelectedDay(t.target.value)},className:"inline-block eventDateTitle",value:e.selectedDay}),c.a.createElement("small",{className:"seeAllEvents",onClick:function(){e.updateBookings(),e.setSelectedDay("")}}," see all events"),c.a.createElement("button",{type:"button",onClick:D,className:"".concat(h," inline-block addBtn")},"Add"))),c.a.createElement("ul",{className:"listNoDots"},e.bookings.map((function(e){return c.a.createElement("li",{className:"taskListItem",key:e.id,id:e.id,onClick:T},e.title)}))),c.a.createElement(oe,{show:g,toggleOverlay:f,bookingWith:E,updateBookings:e.updateBookings}))};var me=function(){var e=R(),t=Object(s.a)(e,2),a=t[0],l=t[1],i=(Object(o.g)(),Object(n.useState)({})),r=Object(s.a)(i,2),m=r[0],d=r[1],u=Object(n.useState)([]),E=Object(s.a)(u,2),b=E[0],p=E[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),f=(g[0],g[1],Object(n.useState)("")),h=Object(s.a)(f,2),O=h[0],y=h[1],j=Object(n.useState)(!1),C=Object(s.a)(j,2),B=C[0],w=C[1];Object(n.useEffect)((function(){_()}),[]);var _=function(){k(a.user_id).then((function(e){p(e.data);var t=e.data.map((function(e){return{title:e.title,date:e.date,id:e.id}}));console.log(t),d(t)}))},I=function(e){var t=e.dateStr.replace("/","-");console.log(t),y(t),N(e.dateStr,a.user_id).then((function(e){e.data.length>0&&w(!0),p(e.data)}))};return c.a.createElement("div",null,c.a.createElement("h1",{className:"title"},"Your Calendar"),c.a.createElement("div",{className:"mainContainer"},c.a.createElement("div",{className:"calendarWidthController"},c.a.createElement(z.a,{plugins:[X.a,Z.a],initialView:"dayGridMonth",dateClick:I,eventMouseEnter:function(e){},eventClick:function(e){var t=b.filter((function(t){return t.id===e.event.id}));l({type:"CURRENTBOOKING",currentBooking:t[0]}),l({type:"CLICKEDEVENT",clickedEvent:!0}),l({type:"PREVENTCLOSE"}),console.log(a.eventClick);var n={dateStr:e.event.startStr};I(n)},events:m})),c.a.createElement(se,{bookings:b,noEvents:B,selectedDay:O,setSelectedDay:y,updateBookings:_,handleDateClick:I,events:m,setAllEvents:d})))};a(40);var de=function(e){var t=R(),a=Object(s.a)(t,2),n=a[0],l=a[1];return c.a.createElement("div",{className:"clickedEvent col-md-6"},c.a.createElement("div",{className:"listCOntainer"},c.a.createElement("div",{className:"updatePosts"},c.a.createElement(F.a,{icon:"edit",className:"updatePost",onClick:function(){l({type:"modalClick",date:n.currentBooking.date})}}),c.a.createElement(F.a,{icon:"trash-2",className:"updatePost",onClick:function(){window.confirm("Cancel this Event?")&&j(n.currentBooking.id).then((function(t){e.setNoEvents(!1),l({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}})),c.a.createElement("h2",{className:"h2 title"},n.currentBooking.title," ~ ",e.bookingWith),c.a.createElement("ul",{className:"ul"},c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"info",className:"detailsIcon"}),c.a.createElement(r.b,{to:"#"}," ",n.currentBooking.description)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"map-pin",className:"detailsIcon"})," ",c.a.createElement(r.b,{to:"#"}," ",n.currentBooking.location)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"calendar",className:"detailsIcon"})," ",c.a.createElement(r.b,{to:"#"}," ",n.currentBooking.date)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"clock",className:"detailsIcon"})," ",c.a.createElement(ie.a,{start:"10:00",end:"21:00",step:30,value:n.currentBooking.time,className:"time"})))),n.modal?c.a.createElement(re,{setNoEvents:e.setNoEvents}):c.a.createElement("div",{className:"hide"}))};var ue=function(e){var t=Object(o.h)().id,a=R(),l=Object(s.a)(a,2),i=l[0],u=l[1],E=Object(n.useState)({duration:"",startTime:"",endTime:"",date:"",time:0}),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),N=f[0],k=f[1],h=function(e){e.preventDefault(),k(!1),u({type:"modalClick"})},O=function(e){var t=e.target,a=t.name,n=t.value;v(Object(d.a)(Object(d.a)({},p),{},Object(m.a)({},a,n)))};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Add an event for ",i.date),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:h})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Title"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title your event",id:"inputTitle",name:"title",onChange:O}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-label mt-4"},"Description"),c.a.createElement("textarea",{className:"form-control",placeholder:"Provide a description",id:"inputDescription",name:"description",rows:"3",spellCheck:"true",onChange:O})),c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement(ie.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){v(Object(d.a)(Object(d.a)({},p),{},{time:e}))},value:p.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Location"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. Adelaide",id:"inputLocation",name:"location",onChange:O}),c.a.createElement("br",null),N?c.a.createElement("div",{className:"alert alert-dismissible alert-danger"},c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"}),c.a.createElement("strong",null,"Oh snap!")," ",c.a.createElement(r.b,{to:"#",className:"alert-link"},"Input fields cannot be left empty, add some information")," ","and try submitting again."):c.a.createElement("div",{className:"hide"})),c.a.createElement("div",{className:"modal-footer"},e.ownPost?c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){t.preventDefault(),k(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),y({title:p.title,description:p.description,time:p.time,date:i.date,location:p.location,booker_id:i.user_id,bookee_id:i.user_id,accepted:!0,bookerPending:!0}).then((function(e){alert("Event added succesfully!")})).catch((function(e){alert("Uh oh! Something went wrong"),k(!0)}))):k(!0),e.setNoEvents(!0)}},"Save Event"):c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){e.preventDefault(),k(!1),p.title&&p.description,p.time,p.location?(u({type:"modalClick"}),y({title:p.title,description:p.description,time:p.time,date:i.date,location:p.location,booker_id:i.user_id,bookee_id:t,accepted:!1,bookerPending:!1}).then((function(e){alert("Event request succesful!")})).catch((function(e){console.log(e),alert("Uh oh! Something went wrong"),k(!0)}))):k(!0)}},"Save Event"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:h},"Close")))))},Ee=a(46),be=a.n(Ee);var pe=function(){var e=Object(n.useState)([""]),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),d=m[0],u=m[1],E=Object(n.useState)(),b=Object(s.a)(E,2),p=b[0],v=b[1],g=Object(n.useState)(),f=Object(s.a)(g,2),k=(f[0],f[1],Object(o.h)().id),h=R(),O=Object(s.a)(h,2),y=O[0],j=O[1];Object(n.useEffect)((function(){y.eventClick||(console.log("close"),j({type:"CLICKEDEVENT"})),j({type:"ENABLECLOSE"}),N(k,y.user_id).then((function(e){e.data.length>0&&u(!0),l(e.data)}))}),[d]);var C=function(e){var t=e.target.id,n=a.filter((function(e){return e.id==t}));j({type:"CURRENTBOOKING",currentBooking:n[0]}),y.user_id===n[0].receivedByUser.id&&v(n[0].createdByUser.first_name+" "+n[0].createdByUser.last_name),y.user_id===n[0].createdByUser.id&&v(n[0].receivedByUser.first_name+" "+n[0].receivedByUser.last_name),j({type:"CLICKEDEVENT",clickedEvent:!0})},B=function(){j({type:"CLICKEDEVENT",clickedEvent:!1}),j({type:"modalClick",date:k})};return c.a.createElement("div",null,y.modal?c.a.createElement(ue,{ownPost:!0,setNoEvents:u}):c.a.createElement("div",{className:"hide"}),d?c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(r.b,{to:"/",className:"backBtnW"},"Click me to go back")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5"},c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"btn addBtn btn-light",style:{marginTop:"7%"},onClick:B},"+ Add Event for Today")),c.a.createElement("div",{className:"eventList"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"}," Today's Events"),c.a.createElement("ul",{className:"ul"},a.map((function(e){return c.a.createElement("li",{className:"li events eventTitle",key:e.id},e.booker_id===y.user_id?c.a.createElement(r.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"red"}},e.title):c.a.createElement(r.b,{to:"#",scope:"row",onClick:C,id:e.id,style:{color:"blue"}},e.title))})))))),y.clickedEvent?c.a.createElement(de,{bookingWith:p,setNoEvents:u}):c.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))):c.a.createElement("div",{className:"centre"},c.a.createElement("h1",null,be()(k).format("dddd DD/MM/YY"),c.a.createElement("div",null,c.a.createElement(r.b,{to:"/",className:"backBtn"},"Click me to go back"))),c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:B},"+ Add Event for Today"))))};a(96);var ve=function(){var e=R(),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(o.g)();Object(n.useEffect)((function(){h().then((function(e){l({type:"addUsers",users:e.data})}))}),[]);var r=function(e){var t=e.target.id;console.log(t),i.push("/user/".concat(t))},m=a.users.filter((function(e){return e.first_name.toUpperCase().includes(a.search.toUpperCase())}));return c.a.createElement("div",{className:"Container"},c.a.createElement("div",{className:"row people"},c.a.createElement("h1",{onClick:function(){var e=a.users.filter((function(e){return e.first_name===a.search}));console.log(a.users),console.log(a.search),console.log(e)},className:"title"}," ","Search for someone to make an event!"),c.a.createElement("form",{className:"search"},c.a.createElement("div",{className:"form-group searchBar"},c.a.createElement("label",{htmlFor:"employee"},"People:"),c.a.createElement("input",{value:a.search,onChange:function(e){l({type:"searchInvoked",search:e.target.value})},employee:"employee",list:"employees",type:"text",className:"form-control",placeholder:"Look for someone",id:"employee"}))),m.map((function(e){return c.a.createElement("div",{className:"col-md-2 box",style:{maxWidth:"20rem"},key:e.id,id:e.id,onClick:r},c.a.createElement("div",{className:"card-body",id:e.id,onClick:r},c.a.createElement("h4",{className:"card-title text",id:e.id,onClick:r}," ",e.first_name," ",e.last_name)))}))))},ge=a(19),fe=a.n(ge),Ne=a(23);a(98);var ke=function(){var e=Object(o.h)().id,t=R(),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)({}),m=Object(s.a)(r,2),d=m[0],u=m[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),p=(b[0],b[1]);Object(n.useEffect)((function(){O(e).then((function(e){u(e.data)}))}),[]);var v=function(){var e=Object(Ne.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.dateStr);case 2:i({type:"modalClick",date:t.dateStr});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("h1",{className:"altTitle"},"Welcome to ",d.first_name,"'s calendar! Cick a day to add an event!"),c.a.createElement(z.a,{plugins:[X.a,Z.a],initialView:"dayGridMonth",dateClick:v}),l.modal?c.a.createElement(ue,null):c.a.createElement("div",{className:"hide"}))};var he=function(e){var t=R(),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)({date:"",time:0}),o=Object(s.a)(r,2),u=o[0],E=o[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),v=p[0],g=p[1],f=function(t){t.preventDefault(),g(!1),e.setEditEvent(!1)};return c.a.createElement("div",{className:"modal fade show",id:"source-modal",style:{display:"block"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Rescedule event with ",e.bookingWith),c.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:f})),c.a.createElement("div",{className:"modal-body"},c.a.createElement("label",{className:"col-form-label mt-4"},"Time"),c.a.createElement(ie.a,{start:"10:00",end:"21:00",step:30,onChange:function(e){E(Object(d.a)(Object(d.a)({},u),{},{time:e}))},value:u.time}),c.a.createElement("label",{className:"col-form-label mt-4"},"Date"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"e.g. 2022-05-19",id:"inputDate",name:"date",onChange:function(e){var t=e.target,a=t.name,n=t.value;E(Object(d.a)(Object(d.a)({},u),{},Object(m.a)({},a,n)))}}),c.a.createElement("br",null),v?c.a.createElement(P,{message:"Date and time must be selected"}):c.a.createElement("div",{className:"hide"})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){u.date&&u.time?C({bookerPending:!l.currentBooking.bookerPending,id:l.currentBooking.id,date:u.date,time:u.time}).then((function(e){alert("Reshedule requested"),i({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)})):g(!0)}},"Reschedule"),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:f},"Close")))))};var Oe=function(e){var t=R(),a=Object(s.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],u=m[1];return c.a.createElement("div",{className:"clickedEvent col-md-6"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"},l.currentBooking.title," ~ ",e.bookingWith),c.a.createElement("ul",{className:"ul",key:l.currentBooking.id},c.a.createElement("li",{className:"li"},c.a.createElement(r.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"info",className:"detailsIcon"}),l.currentBooking.description," ")),c.a.createElement("li",{className:"li"},c.a.createElement(r.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"map-pin",className:"detailsIcon"})," ",l.currentBooking.location)),c.a.createElement("li",{className:"li"},c.a.createElement(r.b,{to:"#"}," ",c.a.createElement(F.a,{icon:"calendar",className:"detailsIcon"})," ",l.currentBooking.date)),c.a.createElement("li",{className:"li"},c.a.createElement(F.a,{icon:"clock",className:"detailsIcon"}),c.a.createElement(ie.a,{start:"10:00",end:"21:00",step:30,value:l.currentBooking.time,className:"time"}))),l.actionRequired?c.a.createElement("div",{className:"pendingOptions"},c.a.createElement("button",{type:"button",className:"btn btn-outline-success optBtn",style:{borderColor:"#62c462"},onClick:function(){C({accepted:!0,id:l.currentBooking.id}).then((function(e){alert("Booking made, check your calendar to see"),i({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Accept"),c.a.createElement("button",{type:"button",className:"btn btn-outline-warning optBtn",style:{borderColor:"#f89406"},onClick:function(e){u(!0)}},"Suggest Reschedule"),c.a.createElement("button",{type:"button",className:"btn btn-outline-danger optBtn",style:{borderColor:"#ee5f5b"},onClick:function(){j(l.currentBooking.id).then((function(e){console.log(window.prompt("Rejection Reason: ")),i({type:"CLICKEDEVENT",clickedEvent:!1})})).catch((function(e){return console.log(e)}))}},"Reject")):c.a.createElement("div",{className:"pendingOptions"},c.a.createElement("h3",{className:"title"},"Waiting for their response")),d?c.a.createElement(he,{setEditEvent:u,bookingWith:e.bookingWith}):c.a.createElement("div",{className:"hide"})))};var ye=function(){var e=R(),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(),o=Object(s.a)(i,2),m=o[0],d=o[1];Object(n.useEffect)((function(){l({type:"CLICKEDEVENT",clickedEvent:!1}),w().then((function(e){0!==e.data.length&&l({type:"ALLPENDINGEVENTS",allPendingEvents:e.data})})).catch((function(e){return console.log(e)})),_().then((function(e){0!==e.data.length&&l({type:"WAITINGEVENT",awaitingEvents:e.data})})).catch((function(e){return console.log(e)}))}),[]);var u=function(){var e=Object(Ne.a)(fe.a.mark((function e(t){var n,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.id,c=a.allPendingEvents.filter((function(e){return e.id===n})),e.next=4,l({type:"CURRENTBOOKING",currentBooking:c[0]});case 4:if(c[0].bookee_id!==a.user_id||!c[0].bookerPending){e.next=10;break}return e.next=7,l({type:"ACTIONREQUIRED",actionRequired:!1});case 7:d(c[0].createdByUser.first_name+" "+c[0].createdByUser.last_name),e.next=26;break;case 10:if(c[0].bookee_id!==a.user_id||c[0].bookerPending){e.next=16;break}return e.next=13,l({type:"ACTIONREQUIRED",actionRequired:!0});case 13:d(c[0].createdByUser.first_name+" "+c[0].createdByUser.last_name),e.next=26;break;case 16:if(c[0].booker_id!==a.user_id||!c[0].bookerPending){e.next=22;break}return e.next=19,l({type:"ACTIONREQUIRED",actionRequired:!0});case 19:d(c[0].receivedByUser.first_name+" "+c[0].receivedByUser.last_name),e.next=26;break;case 22:if(c[0].booker_id!==a.user_id||c[0].bookerPending){e.next=26;break}return e.next=25,l({type:"ACTIONREQUIRED",actionRequired:!1});case 25:d(c[0].receivedByUser.first_name+" "+c[0].receivedByUser.last_name);case 26:l({type:"CLICKEDEVENT",clickedEvent:!0});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(r.b,{to:"/",className:"backBtnW"},"Click me to go home")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5",style:{marginTop:"6%"}},c.a.createElement("div",{className:"eventList"},c.a.createElement("div",{className:"listContainer"},c.a.createElement("h2",{className:"h2 title"},"Pending Events"),c.a.createElement("ul",{className:"ul"},a.pendingEvents.map((function(e){return c.a.createElement("li",{className:"li events eventTitle title",key:e.id},c.a.createElement(r.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))}))),c.a.createElement("h2",{className:"h2 title"},"Waiting Events"),c.a.createElement("ul",{className:"ul"},a.awaitingEvents.map((function(e){return c.a.createElement("li",{className:"li events eventTitle title",key:e.id},c.a.createElement(r.b,{to:"#",scope:"row",id:e.id,onClick:u,key:e.id+"link"},e.title))})))))),a.clickedEvent?c.a.createElement(Oe,{bookingWith:m}):c.a.createElement("div",{className:"noEventClicked col-md-7"},"Click an event to view it!"))))};var je=function(){return c.a.createElement(r.a,null,c.a.createElement("div",null,c.a.createElement(L,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/login",component:Y}),c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null),c.a.createElement(o.b,{component:me,path:"/",exact:!0}),c.a.createElement(o.b,{exact:!0,path:"/date/:id",component:pe}),c.a.createElement(o.b,{exact:!0,path:"/find",component:ve}),c.a.createElement(o.b,{exact:!0,path:"/user/:id",component:ke}),c.a.createElement(o.b,{exact:!0,path:"/pending",component:ye}),c.a.createElement(o.b,{exact:!0,path:"/pending/event/",component:Oe}))))))};a(99),a(100),a(101);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(je,null)),document.getElementById("root"))},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/calendula-plant.6a73de47.jpg"},47:function(e,t,a){e.exports=a(123)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.2a973cd5.chunk.js.map