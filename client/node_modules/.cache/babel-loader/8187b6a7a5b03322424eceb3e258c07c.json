{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\src\\\\components\\\\Event\\\\PendingEvent.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport TimePicker from \"react-bootstrap-time-picker\";\nimport API from \"../../utils/API\";\nimport EditBooking from \"../EditBookingModal\";\n\nfunction PendingEvent(props) {\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      editEvent = _useState2[0],\n      setEditEvent = _useState2[1];\n\n  var acceptedEvent = function acceptedEvent() {\n    API.updatePost({\n      accepted: true,\n      id: state.currentBooking.id\n    }).then(function (res) {\n      alert(\"Booking made, check your calendar to see\"); // re-render page\n\n      dispatch({\n        type: \"CLICKEDEVENT\",\n        clickedEvent: false\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var rejectedEvent = function rejectedEvent() {\n    API.deletePost(state.currentBooking.id).then(function (res) {\n      console.log(\"Ben changhe this to re mount the other component maybe\");\n      console.log(window.prompt(\"Rejection Reason: \"));\n      dispatch({\n        type: \"CLICKEDEVENT\",\n        clickedEvent: false\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var editEventClick = function editEventClick(e) {\n    setEditEvent(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clickedEvent col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listCOntainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, state.currentBooking.title, \" ~ \", props.bookingWith), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"ul\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \" \", state.currentBooking.description, \" \")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \" \", state.currentBooking.location)), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \" \", state.currentBooking.date)), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    start: \"10:00\",\n    end: \"21:00\",\n    step: 30,\n    value: state.currentBooking.time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }))), state.actionRequired ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pendingOptions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-success optBtn\",\n    style: {\n      borderColor: \"#62c462\"\n    },\n    onClick: acceptedEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Accept\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-warning optBtn\",\n    style: {\n      borderColor: \"#f89406\"\n    },\n    onClick: editEventClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Suggest Reschedule\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-danger optBtn\",\n    style: {\n      borderColor: \"#ee5f5b\"\n    },\n    onClick: rejectedEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Reject\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pendingOptions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Waiting for their response\")), editEvent ? /*#__PURE__*/React.createElement(EditBooking, {\n    setEditEvent: setEditEvent,\n    bookingWith: props.bookingWith,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default PendingEvent;","map":{"version":3,"sources":["C:/Users/benja/OneDrive/Desktop/Code/project3/calendule/client/src/components/Event/PendingEvent.js"],"names":["React","useState","Link","useStoreContext","TimePicker","API","EditBooking","PendingEvent","props","state","dispatch","editEvent","setEditEvent","acceptedEvent","updatePost","accepted","id","currentBooking","then","res","alert","type","clickedEvent","catch","err","console","log","rejectedEvent","deletePost","window","prompt","editEventClick","e","title","bookingWith","description","location","date","time","actionRequired","borderColor"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport TimePicker from \"react-bootstrap-time-picker\";\r\nimport API from \"../../utils/API\";\r\nimport EditBooking from \"../EditBookingModal\";\r\n\r\nfunction PendingEvent(props) {\r\n  const [state, dispatch] = useStoreContext();\r\n  const [editEvent, setEditEvent] = useState(false);\r\n\r\n  const acceptedEvent = () => {\r\n    API.updatePost({\r\n      accepted: true,\r\n      id: state.currentBooking.id,\r\n    })\r\n      .then((res) => {\r\n        alert(\"Booking made, check your calendar to see\");\r\n        // re-render page\r\n        dispatch({\r\n          type: \"CLICKEDEVENT\",\r\n          clickedEvent: false,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const rejectedEvent = () => {\r\n    API.deletePost(state.currentBooking.id)\r\n      .then((res) => {\r\n        console.log(\"Ben changhe this to re mount the other component maybe\");\r\n        console.log(window.prompt(\"Rejection Reason: \"));\r\n        dispatch({\r\n          type: \"CLICKEDEVENT\",\r\n          clickedEvent: false,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const editEventClick = (e) => {\r\n    setEditEvent(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"clickedEvent col-md-6\">\r\n      <div className=\"listCOntainer\">\r\n        <h2 className=\"h2\">\r\n          {state.currentBooking.title} ~ {props.bookingWith}\r\n        </h2>\r\n        <ul className=\"ul\">\r\n          <li className=\"li\">\r\n            <Link to=\"#\"> {state.currentBooking.description} </Link>\r\n          </li>\r\n          <li className=\"li\">\r\n            <Link to=\"#\"> {state.currentBooking.location}</Link>\r\n          </li>\r\n          <li className=\"li\">\r\n            <Link to=\"#\"> {state.currentBooking.date}</Link>\r\n          </li>\r\n          <li className=\"li\">\r\n            <TimePicker\r\n              start=\"10:00\"\r\n              end=\"21:00\"\r\n              step={30}\r\n              value={state.currentBooking.time}\r\n            />\r\n          </li>\r\n        </ul>\r\n        {state.actionRequired ? (\r\n          <div className=\"pendingOptions\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-success optBtn\"\r\n              style={{ borderColor: \"#62c462\" }}\r\n              onClick={acceptedEvent}\r\n            >\r\n              Accept\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-warning optBtn\"\r\n              style={{ borderColor: \"#f89406\" }}\r\n              onClick={editEventClick}\r\n            >\r\n              Suggest Reschedule\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-danger optBtn\"\r\n              style={{ borderColor: \"#ee5f5b\" }}\r\n              onClick={rejectedEvent}\r\n            >\r\n              Reject\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"pendingOptions\">\r\n            <h3>Waiting for their response</h3>\r\n          </div>\r\n        )}\r\n        {editEvent ? (\r\n          <EditBooking\r\n            setEditEvent={setEditEvent}\r\n            bookingWith={props.bookingWith}\r\n          />\r\n        ) : (\r\n          <div className=\"hide\"></div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PendingEvent;\r\n"]},"metadata":{},"sourceType":"module"}