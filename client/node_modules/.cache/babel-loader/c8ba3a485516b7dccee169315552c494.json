{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\src\\\\components\\\\SignUp\\\\index.js\";\nimport React, { useState } from \"react\";\nimport \"./style.css\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\n\nfunction SignUpForm() {\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  var _useState = useState({\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formInput = _useState2[0],\n      setFormInput = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errorMessage = _useState6[0],\n      setErrorMessage = _useState6[1];\n\n  var hanldeFormInput = function hanldeFormInput(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormInput(_objectSpread(_objectSpread({}, formInput), {}, _defineProperty({}, name, value)));\n  };\n\n  var HandleSignUpBtn = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var email, password, firstName, lastName, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              email = document.querySelector(\"#email-signup\").value.trim();\n              password = document.querySelector(\"#password-signup\").value.trim();\n              firstName = document.querySelector(\"#firstname-signup\").value.trim();\n              lastName = document.querySelector(\"#lastname-signup\").value.trim();\n\n              if (!(email && password && firstName && lastName)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 8;\n              return fetch(\"/api/users/signup\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  firstName: firstName,\n                  lastName: lastName,\n                  email: email,\n                  password: password\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 8:\n              response = _context.sent;\n\n              if (response.ok) {\n                alert(\"you have successfully signed up! Login to use all the cool features!\");\n                hanldeSignUpFinish();\n              } else {\n                alert(response.statusText);\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function HandleSignUpBtn(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // This is not returning the state back to true\n\n\n  var hanldeSignUpFinish = function hanldeSignUpFinish() {\n    // e.preventDefault();\n    console.log(\"hey\");\n    dispatch({\n      type: \"LOGIN\",\n      login: true\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 signupContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form signup-form signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"name\",\n    id: \"firstname-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \" Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"name\",\n    id: \"lastname-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"email-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    id: \"password-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"signup\",\n    className: \"btn btn-primary\",\n    onClick: HandleSignUpBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"signup\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hanldeSignUpFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Back to Login\"))));\n}\n\nexport default SignUpForm;","map":{"version":3,"sources":["C:/Users/benja/OneDrive/Desktop/Code/project3/calendule/client/src/components/SignUp/index.js"],"names":["React","useState","useStoreContext","SignUpForm","state","dispatch","email","password","first_name","last_name","formInput","setFormInput","error","setError","errorMessage","setErrorMessage","hanldeFormInput","event","target","name","value","HandleSignUpBtn","e","preventDefault","document","querySelector","trim","firstName","lastName","fetch","method","body","JSON","stringify","headers","response","ok","alert","hanldeSignUpFinish","statusText","console","log","type","login"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./style.css\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\n\r\nfunction SignUpForm() {\r\n  const [state, dispatch] = useStoreContext();\r\n  const [formInput, setFormInput] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n  });\r\n\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const hanldeFormInput = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormInput({ ...formInput, [name]: value });\r\n  };\r\n\r\n  const HandleSignUpBtn = async (e) => {\r\n    e.preventDefault();\r\n    const email = document.querySelector(\"#email-signup\").value.trim();\r\n    const password = document.querySelector(\"#password-signup\").value.trim();\r\n    const firstName = document.querySelector(\"#firstname-signup\").value.trim();\r\n    const lastName = document.querySelector(\"#lastname-signup\").value.trim();\r\n\r\n    if (email && password && firstName && lastName) {\r\n      const response = await fetch(\"/api/users/signup\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          password,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      if (response.ok) {\r\n        alert(\r\n          \"you have successfully signed up! Login to use all the cool features!\"\r\n        );\r\n        hanldeSignUpFinish();\r\n      } else {\r\n        alert(response.statusText);\r\n      }\r\n    }\r\n  };\r\n  // This is not returning the state back to true\r\n  const hanldeSignUpFinish = () => {\r\n    // e.preventDefault();\r\n    console.log(\"hey\");\r\n    dispatch({\r\n      type: \"LOGIN\",\r\n      login: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-md-4 signupContainer\">\r\n      <form className=\"form signup-form signup\">\r\n        <div className=\"form-group\">\r\n          <label>First Name:</label>\r\n          <input className=\"form-input\" type=\"name\" id=\"firstname-signup\" />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label> Last Name:</label>\r\n          <input className=\"form-input\" type=\"name\" id=\"lastname-signup\" />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>email:</label>\r\n          <input className=\"form-input\" type=\"text\" id=\"email-signup\" />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>password:</label>\r\n          <input className=\"form-input\" type=\"password\" id=\"password-signup\" />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button\r\n            id=\"signup\"\r\n            className=\"btn btn-primary\"\r\n            onClick={HandleSignUpBtn}\r\n          >\r\n            signup\r\n          </button>\r\n          <button onClick={hanldeSignUpFinish}>Back to Login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUpForm;\r\n"]},"metadata":{},"sourceType":"module"}