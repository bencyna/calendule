{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\src\\\\components\\\\SignUp\\\\index.js\";\nimport React, { useState } from \"react\";\nimport \"./style.css\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\n\nfunction SignUpForm() {\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  var _useState = useState({\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formInput = _useState2[0],\n      setFormInput = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errorMessage = _useState6[0],\n      setErrorMessage = _useState6[1];\n\n  var hanldeFormInput = function hanldeFormInput(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormInput(_objectSpread(_objectSpread({}, formInput), {}, _defineProperty({}, name, value)));\n  };\n\n  var HandleSignUpBtn = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(formInput.email.length > 1 && formInput.password.length >= 8 && formInput.firstName.length > 1 && formInput.lastName.length > 1)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return fetch(\"/api/users/signup\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  firstName: firstName,\n                  lastName: lastName,\n                  email: email,\n                  password: password\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n\n              if (response.ok) {\n                alert(\"you have successfully signed up! Login to use all the cool features!\");\n                hanldeSignUpFinish();\n              } else {\n                alert(response.statusText);\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function HandleSignUpBtn(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // This is not returning the state back to true\n\n\n  var hanldeSignUpFinish = function hanldeSignUpFinish() {\n    // e.preventDefault();\n    console.log(\"hey\");\n    dispatch({\n      type: \"LOGIN\",\n      login: true\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 signupContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form signup-form signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"name\",\n    id: \"firstname-signup\",\n    name: \"first_name\",\n    onChange: hanldeFormInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \" Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"name\",\n    id: \"lastname-signup\",\n    name: \"last_name\",\n    onChange: hanldeFormInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    id: \"email-signup\",\n    name: \"email\",\n    onChange: hanldeFormInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    id: \"password-signup\",\n    name: \"password\",\n    onChange: hanldeFormInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"signup\",\n    className: \"btn btn-primary\",\n    onClick: HandleSignUpBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"signup\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hanldeSignUpFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Back to Login\"))));\n}\n\nexport default SignUpForm;","map":{"version":3,"sources":["C:/Users/benja/OneDrive/Desktop/Code/project3/calendule/client/src/components/SignUp/index.js"],"names":["React","useState","useStoreContext","SignUpForm","state","dispatch","email","password","first_name","last_name","formInput","setFormInput","error","setError","errorMessage","setErrorMessage","hanldeFormInput","event","target","name","value","HandleSignUpBtn","e","preventDefault","length","firstName","lastName","fetch","method","body","JSON","stringify","headers","response","ok","alert","hanldeSignUpFinish","statusText","console","log","type","login"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,aAAP;AACA,SAASC,eAAT,QAAgC,yBAAhC;;AAEA,SAASC,UAAT,GAAsB;AACpB,yBAA0BD,eAAe,EAAzC;AAAA;AAAA,MAAOE,KAAP;AAAA,MAAcC,QAAd;;AACA,kBAAkCJ,QAAQ,CAAC;AACzCK,IAAAA,KAAK,EAAE,EADkC;AAEzCC,IAAAA,QAAQ,EAAE,EAF+B;AAGzCC,IAAAA,UAAU,EAAE,EAH6B;AAIzCC,IAAAA,SAAS,EAAE;AAJ8B,GAAD,CAA1C;AAAA;AAAA,MAAOC,SAAP;AAAA,MAAkBC,YAAlB;;AAOA,mBAA0BV,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOW,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAwCZ,QAAQ,CAAC,EAAD,CAAhD;AAAA;AAAA,MAAOa,YAAP;AAAA,MAAqBC,eAArB;;AAEA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,wBAAwBA,KAAK,CAACC,MAA9B;AAAA,QAAQC,IAAR,iBAAQA,IAAR;AAAA,QAAcC,KAAd,iBAAcA,KAAd;AACAT,IAAAA,YAAY,iCAAMD,SAAN,2BAAkBS,IAAlB,EAAyBC,KAAzB,GAAZ;AACD,GAHD;;AAKA,MAAMC,eAAe;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBA,cAAAA,CAAC,CAACC,cAAF;;AADsB,oBAGpBb,SAAS,CAACJ,KAAV,CAAgBkB,MAAhB,GAAyB,CAAzB,IACAd,SAAS,CAACH,QAAV,CAAmBiB,MAAnB,IAA6B,CAD7B,IAEAd,SAAS,CAACe,SAAV,CAAoBD,MAApB,GAA6B,CAF7B,IAGAd,SAAS,CAACgB,QAAV,CAAmBF,MAAnB,GAA4B,CANR;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAQGG,KAAK,CAAC,mBAAD,EAAsB;AAChDC,gBAAAA,MAAM,EAAE,MADwC;AAEhDC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBN,kBAAAA,SAAS,EAATA,SADmB;AAEnBC,kBAAAA,QAAQ,EAARA,QAFmB;AAGnBpB,kBAAAA,KAAK,EAALA,KAHmB;AAInBC,kBAAAA,QAAQ,EAARA;AAJmB,iBAAf,CAF0C;AAQhDyB,gBAAAA,OAAO,EAAE;AAAE,kCAAgB;AAAlB;AARuC,eAAtB,CARR;;AAAA;AAQdC,cAAAA,QARc;;AAkBpB,kBAAIA,QAAQ,CAACC,EAAb,EAAiB;AACfC,gBAAAA,KAAK,CACH,sEADG,CAAL;AAGAC,gBAAAA,kBAAkB;AACnB,eALD,MAKO;AACLD,gBAAAA,KAAK,CAACF,QAAQ,CAACI,UAAV,CAAL;AACD;;AAzBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfhB,eAAe;AAAA;AAAA;AAAA,KAArB,CAjBoB,CA6CpB;;;AACA,MAAMe,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAlC,IAAAA,QAAQ,CAAC;AACPmC,MAAAA,IAAI,EAAE,OADC;AAEPC,MAAAA,KAAK,EAAE;AAFA,KAAD,CAAR;AAID,GAPD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,EAAE,EAAC,kBAHL;AAIE,IAAA,IAAI,EAAC,YAJP;AAKE,IAAA,QAAQ,EAAEzB,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAWE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,EAAE,EAAC,iBAHL;AAIE,IAAA,IAAI,EAAC,WAJP;AAKE,IAAA,QAAQ,EAAEA,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,eAqBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,EAAE,EAAC,cAHL;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,QAAQ,EAAEA,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CArBF,eA+BE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,EAAE,EAAC,iBAHL;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,QAAQ,EAAEA,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA/BF,eAyCE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,SAAS,EAAC,iBAFZ;AAGE,IAAA,OAAO,EAAEK,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AAAQ,IAAA,OAAO,EAAEe,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARF,CAzCF,CADF,CADF;AAwDD;;AAED,eAAejC,UAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./style.css\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\n\r\nfunction SignUpForm() {\r\n  const [state, dispatch] = useStoreContext();\r\n  const [formInput, setFormInput] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n  });\r\n\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const hanldeFormInput = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormInput({ ...formInput, [name]: value });\r\n  };\r\n\r\n  const HandleSignUpBtn = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      formInput.email.length > 1 &&\r\n      formInput.password.length >= 8 &&\r\n      formInput.firstName.length > 1 &&\r\n      formInput.lastName.length > 1\r\n    ) {\r\n      const response = await fetch(\"/api/users/signup\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          password,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      if (response.ok) {\r\n        alert(\r\n          \"you have successfully signed up! Login to use all the cool features!\"\r\n        );\r\n        hanldeSignUpFinish();\r\n      } else {\r\n        alert(response.statusText);\r\n      }\r\n    }\r\n  };\r\n  // This is not returning the state back to true\r\n  const hanldeSignUpFinish = () => {\r\n    // e.preventDefault();\r\n    console.log(\"hey\");\r\n    dispatch({\r\n      type: \"LOGIN\",\r\n      login: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-md-4 signupContainer\">\r\n      <form className=\"form signup-form signup\">\r\n        <div className=\"form-group\">\r\n          <label>First Name:</label>\r\n          <input\r\n            className=\"form-input\"\r\n            type=\"name\"\r\n            id=\"firstname-signup\"\r\n            name=\"first_name\"\r\n            onChange={hanldeFormInput}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label> Last Name:</label>\r\n          <input\r\n            className=\"form-input\"\r\n            type=\"name\"\r\n            id=\"lastname-signup\"\r\n            name=\"last_name\"\r\n            onChange={hanldeFormInput}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>email:</label>\r\n          <input\r\n            className=\"form-input\"\r\n            type=\"text\"\r\n            id=\"email-signup\"\r\n            name=\"email\"\r\n            onChange={hanldeFormInput}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>password:</label>\r\n          <input\r\n            className=\"form-input\"\r\n            type=\"password\"\r\n            id=\"password-signup\"\r\n            name=\"password\"\r\n            onChange={hanldeFormInput}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button\r\n            id=\"signup\"\r\n            className=\"btn btn-primary\"\r\n            onClick={HandleSignUpBtn}\r\n          >\r\n            signup\r\n          </button>\r\n          <button onClick={hanldeSignUpFinish}>Back to Login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUpForm;\r\n"]},"metadata":{},"sourceType":"module"}