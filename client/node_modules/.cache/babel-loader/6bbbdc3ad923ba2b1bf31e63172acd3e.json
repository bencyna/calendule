{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\benja\\\\OneDrive\\\\Desktop\\\\Code\\\\project3\\\\calendule\\\\client\\\\src\\\\components\\\\eventInput\\\\index.js\";\nimport React, { useState } from \"react\";\nimport API from \"../../utils/API\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { useParams, Link } from \"react-router-dom\";\nimport TimeInput from \"../TimePicker\";\n\nfunction EventInput() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  var _useState = useState({\n    duration: \"\",\n    startTime: \"\",\n    endTime: \"\",\n    date: \"\",\n    timeValue: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      eventInput = _useState2[0],\n      setEventInput = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var handleExitClick = function handleExitClick(e) {\n    e.preventDefault();\n    setError(false);\n    dispatch({\n      type: \"modalClick\"\n    });\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setEventInput(_objectSpread(_objectSpread({}, eventInput), {}, _defineProperty({}, name, value)));\n  };\n\n  var handleEventSubmit = function handleEventSubmit(e) {\n    e.preventDefault();\n    setError(false);\n\n    if (eventInput.title && eventInput.description, eventInput.time, eventInput.location) {\n      dispatch({\n        type: \"modalClick\"\n      }); // api call then setEventinpiut to ()\n\n      API.createEvent({\n        title: eventInput.title,\n        description: eventInput.description,\n        time: eventInput.time,\n        date: state.date,\n        location: eventInput.location,\n        booker_id: state.user_id,\n        bookee_id: id\n      }).then(function (res) {\n        alert(\"Event added succesfully!\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    } else {\n      setError(true);\n    }\n\n    console.log(eventInput);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade show\",\n    id: \"source-modal\",\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TimeInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default EventInput;","map":{"version":3,"sources":["C:/Users/benja/OneDrive/Desktop/Code/project3/calendule/client/src/components/eventInput/index.js"],"names":["React","useState","API","useStoreContext","useParams","Link","TimeInput","EventInput","id","state","dispatch","duration","startTime","endTime","date","timeValue","eventInput","setEventInput","error","setError","handleExitClick","e","preventDefault","type","handleInputChange","event","target","name","value","handleEventSubmit","title","description","time","location","createEvent","booker_id","user_id","bookee_id","then","res","alert","catch","err","console","log","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport API from \"../../utils/API\";\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport TimeInput from \"../TimePicker\";\r\n\r\nfunction EventInput() {\r\n  const { id } = useParams();\r\n\r\n  const [state, dispatch] = useStoreContext();\r\n\r\n  const [eventInput, setEventInput] = useState({\r\n    duration: \"\",\r\n    startTime: \"\",\r\n    endTime: \"\",\r\n    date: \"\",\r\n    timeValue: \"\",\r\n  });\r\n\r\n  const [error, setError] = useState(false);\r\n\r\n  const handleExitClick = (e) => {\r\n    e.preventDefault();\r\n    setError(false);\r\n    dispatch({\r\n      type: \"modalClick\",\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setEventInput({ ...eventInput, [name]: value });\r\n  };\r\n\r\n  const handleEventSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(false);\r\n    if (\r\n      (eventInput.title && eventInput.description,\r\n      eventInput.time,\r\n      eventInput.location)\r\n    ) {\r\n      dispatch({\r\n        type: \"modalClick\",\r\n      });\r\n      // api call then setEventinpiut to ()\r\n      API.createEvent({\r\n        title: eventInput.title,\r\n        description: eventInput.description,\r\n        time: eventInput.time,\r\n        date: state.date,\r\n        location: eventInput.location,\r\n        booker_id: state.user_id,\r\n        bookee_id: id,\r\n      })\r\n        .then((res) => {\r\n          alert(\"Event added succesfully!\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      setError(true);\r\n    }\r\n    console.log(eventInput);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade show\"\r\n      id=\"source-modal\"\r\n      style={{ display: \"block\" }}\r\n    >\r\n      {/* <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Add an event for {state.date}</h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n              onClick={handleExitClick}\r\n            >\r\n              { <span aria-hidden=\"true\"></span> \r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <label className=\"col-form-label mt-4\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Title your event\"\r\n              id=\"inputTitle\"\r\n              name=\"title\"\r\n              onChange={handleInputChange}\r\n            ></input>\r\n            <label className=\"col-form-label mt-4\">Description</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Provide a description\"\r\n              id=\"inputDescription\"\r\n              name=\"description\"\r\n              onChange={handleInputChange}\r\n            ></input> */}\r\n\r\n      <TimeInput />\r\n      {/* <label className=\"col-form-label mt-4\">Location</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"e.g. Adelaide\"\r\n              id=\"inputLocation\"\r\n              name=\"location\"\r\n              onChange={handleInputChange}\r\n            ></input>\r\n            <br />\r\n            {error ? (\r\n              <div className=\"alert alert-dismissible alert-danger\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  data-bs-dismiss=\"alert\"\r\n                ></button>\r\n                <strong>Oh snap!</strong>{\" \"}\r\n                <Link to=\"#\" className=\"alert-link\">\r\n                  Input fields cannot be left empty, add some information\r\n                </Link>{\" \"}\r\n                and try submitting again.\r\n              </div>\r\n            ) : (\r\n              <div class=\"hide\"></div>\r\n            )}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={handleEventSubmit}\r\n            >\r\n              Save Event\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n              onClick={handleExitClick}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventInput;\r\n"]},"metadata":{},"sourceType":"module"}